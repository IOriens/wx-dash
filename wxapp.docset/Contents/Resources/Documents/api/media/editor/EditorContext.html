<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>EditorContext</title>
  <link rel="stylesheet" href="../../../../../../../style.css" />
  <link rel="stylesheet" href="../../../../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="EditorContext"><a href="#EditorContext" aria-hidden="true" class="header-anchor">#</a> EditorContext</h1> <blockquote><p>基础库 2.7.0 开始支持，低版本需做<a href="../../../framework/compatibility.html">兼容处理</a>。</p></blockquote> <p>EditorContext 实例，可通过 <a href="../../wxml/wx.createSelectorQuery.html">wx.createSelectorQuery</a> 获取。</p> <p><a href="EditorContext.html">EditorContext</a> 通过 <code>id</code> 跟一个 <a href="../../../component/editor.html">editor</a> 组件绑定，操作对应的 <a href="../../../component/editor.html">editor</a> 组件。</p> <h2 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h2> <h3 id="EditorContext-format-string-name-string-value"><a href="#EditorContext-format-string-name-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.format.html">EditorContext.format(string name, string value)</a></h3> <p>修改样式</p> <h3 id="EditorContext-insertDivider"><a href="#EditorContext-insertDivider" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.insertDivider.html">EditorContext.insertDivider()</a></h3> <p>插入分割线</p> <h3 id="EditorContext-insertImage-Object-object"><a href="#EditorContext-insertImage-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.insertImage.html">EditorContext.insertImage(Object object)</a></h3> <p>插入图片。</p> <p>地址为临时文件时，获取的编辑器html格式内容中 <img> 标签增加属性 data-local，delta 格式内容中图片 attributes 属性增加 data-local 字段，该值为传入的临时文件地址。</p> <p>开发者可选择在提交阶段上传图片到服务器，获取到网络地址后进行替换。替换时对于html内容应替换掉 <img> 的 src 值，对于 delta 内容应替换掉 <code>insert { image: abc }</code> 值。</p> <h3 id="EditorContext-insertText-Object-object"><a href="#EditorContext-insertText-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.insertText.html">EditorContext.insertText(Object object)</a></h3> <p>覆盖当前选区，设置一段文本</p> <h3 id="EditorContext-setContents-Object-object"><a href="#EditorContext-setContents-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.setContents.html">EditorContext.setContents(Object object)</a></h3> <p>初始化编辑器内容，html和delta同时存在时仅delta生效</p> <h3 id="EditorContext-getContents"><a href="#EditorContext-getContents" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.getContents.html">EditorContext.getContents()</a></h3> <p>获取编辑器内容</p> <h3 id="EditorContext-clear"><a href="#EditorContext-clear" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.clear.html">EditorContext.clear()</a></h3> <p>清空编辑器内容</p> <h3 id="EditorContext-removeFormat"><a href="#EditorContext-removeFormat" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.removeFormat.html">EditorContext.removeFormat()</a></h3> <p>清除当前选区的样式</p> <h3 id="EditorContext-undo"><a href="#EditorContext-undo" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.undo.html">EditorContext.undo()</a></h3> <p>撤销</p> <h3 id="EditorContext-redo"><a href="#EditorContext-redo" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.redo.html">EditorContext.redo()</a></h3> <p>恢复</p> <h3 id="EditorContext-blur"><a href="#EditorContext-blur" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.blur.html">EditorContext.blur()</a></h3> <p>编辑器失焦，同时收起键盘。</p> <h3 id="EditorContext-scrollIntoView"><a href="#EditorContext-scrollIntoView" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.scrollIntoView.html">EditorContext.scrollIntoView()</a></h3> <p>使得编辑器光标处滚动到窗口可视区域内。</p> <h3 id="EditorContext-getSelectionText"><a href="#EditorContext-getSelectionText" aria-hidden="true" class="header-anchor">#</a> <a href="EditorContext.getSelectionText.html">EditorContext.getSelectionText()</a></h3> <p>获取编辑器已选区域内的纯文本内容。当编辑器失焦或未选中一段区间时，返回内容为空。</p></div></div> <!---->    
</body>
</html>

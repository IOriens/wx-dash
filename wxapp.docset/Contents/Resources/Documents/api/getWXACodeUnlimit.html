<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>getWXACodeUnlimit</title>
  <link rel="stylesheet" href="../../style.css" />
  <link rel="stylesheet" href="../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                    <div id="book-search-results">
                        <div class="search-noresults">
                            <section class="normal markdown-section">
                              <h3 id="getwxacodeunlimit">getWXACodeUnlimit</h3>
<blockquote>
<p>&#x672C;&#x63A5;&#x53E3;&#x5E94;&#x5728;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x8C03;&#x7528;&#xFF0C;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x53C2;&#x89C1;<a href="../framework/server-ability/backend-api.html">&#x540E;&#x7AEF;API</a>&#x3002;</p>
</blockquote>
<p>&#x83B7;&#x53D6;&#x5C0F;&#x7A0B;&#x5E8F;&#x7801;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x9700;&#x8981;&#x7684;&#x7801;&#x6570;&#x91CF;&#x6781;&#x591A;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x3002;<strong>&#x901A;&#x8FC7;&#x8BE5;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x7684;&#x5C0F;&#x7A0B;&#x5E8F;&#x7801;&#xFF0C;&#x6C38;&#x4E45;&#x6709;&#x6548;&#xFF0C;&#x6570;&#x91CF;&#x6682;&#x65E0;&#x9650;&#x5236;&#x3002;</strong> &#x66F4;&#x591A;&#x7528;&#x6CD5;&#x8BE6;&#x89C1; <a href="../framework/open-ability/qr-code.html">&#x83B7;&#x53D6;&#x4E8C;&#x7EF4;&#x7801;</a>&#x3002;</p>
<h4 id="&#x8BF7;&#x6C42;&#x5730;&#x5740;">&#x8BF7;&#x6C42;&#x5730;&#x5740;</h4>
<pre><code>POST https://api.weixin.qq.com/wxa/getwxacodeunlimit?access_token=ACCESS_TOKEN
</code></pre>
<h4 id="&#x8BF7;&#x6C42;&#x53C2;&#x6570;">&#x8BF7;&#x6C42;&#x53C2;&#x6570;</h4>
<table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x9ED8;&#x8BA4;&#x503C;</th>
<th>&#x5FC5;&#x586B;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>string</td>
<td></td>
<td>&#x662F;</td>
<td><a href="getAccessToken.html">&#x63A5;&#x53E3;&#x8C03;&#x7528;&#x51ED;&#x8BC1;</a></td>
</tr>
<tr>
<td>scene</td>
<td>string</td>
<td></td>
<td>&#x662F;</td>
<td>&#x6700;&#x5927;32&#x4E2A;&#x53EF;&#x89C1;&#x5B57;&#x7B26;&#xFF0C;&#x53EA;&#x652F;&#x6301;&#x6570;&#x5B57;&#xFF0C;&#x5927;&#x5C0F;&#x5199;&#x82F1;&#x6587;&#x4EE5;&#x53CA;&#x90E8;&#x5206;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF1A;<code>!#$&amp;&apos;()*+,/:;=?@-._~</code>&#xFF0C;&#x5176;&#x5B83;&#x5B57;&#x7B26;&#x8BF7;&#x81EA;&#x884C;&#x7F16;&#x7801;&#x4E3A;&#x5408;&#x6CD5;&#x5B57;&#x7B26;&#xFF08;&#x56E0;&#x4E0D;&#x652F;&#x6301;<code>%</code>&#xFF0C;&#x4E2D;&#x6587;&#x65E0;&#x6CD5;&#x4F7F;&#x7528; <code>urlencode</code> &#x5904;&#x7406;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#xFF09;</td>
</tr>
<tr>
<td>page</td>
<td>string</td>
<td>&#x4E3B;&#x9875;</td>
<td>&#x5426;</td>
<td>&#x5FC5;&#x987B;&#x662F;&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x7684;&#x5C0F;&#x7A0B;&#x5E8F;&#x5B58;&#x5728;&#x7684;&#x9875;&#x9762;&#xFF08;&#x5426;&#x5219;&#x62A5;&#x9519;&#xFF09;&#xFF0C;&#x4F8B;&#x5982; <code>pages/index/index</code>, &#x6839;&#x8DEF;&#x5F84;&#x524D;&#x4E0D;&#x8981;&#x586B;&#x52A0; <code>/</code>,&#x4E0D;&#x80FD;&#x643A;&#x5E26;&#x53C2;&#x6570;&#xFF08;&#x53C2;&#x6570;&#x8BF7;&#x653E;&#x5728;scene&#x5B57;&#x6BB5;&#x91CC;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x586B;&#x5199;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x9ED8;&#x8BA4;&#x8DF3;&#x4E3B;&#x9875;&#x9762;</td>
</tr>
<tr>
<td>width</td>
<td>number</td>
<td>430</td>
<td>&#x5426;</td>
<td>&#x4E8C;&#x7EF4;&#x7801;&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x5355;&#x4F4D; px&#xFF0C;&#x6700;&#x5C0F; 280px&#xFF0C;&#x6700;&#x5927; 1280px</td>
</tr>
<tr>
<td>auto_color</td>
<td>boolean</td>
<td>false</td>
<td>&#x5426;</td>
<td>&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7EBF;&#x6761;&#x989C;&#x8272;&#xFF0C;&#x5982;&#x679C;&#x989C;&#x8272;&#x4F9D;&#x7136;&#x662F;&#x9ED1;&#x8272;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x4E0D;&#x5EFA;&#x8BAE;&#x914D;&#x7F6E;&#x4E3B;&#x8272;&#x8C03;&#xFF0C;&#x9ED8;&#x8BA4; false</td>
</tr>
<tr>
<td>line_color</td>
<td>Object</td>
<td>{&quot;r&quot;:0,&quot;g&quot;:0,&quot;b&quot;:0}</td>
<td>&#x5426;</td>
<td>auto_color &#x4E3A; false &#x65F6;&#x751F;&#x6548;&#xFF0C;&#x4F7F;&#x7528; rgb &#x8BBE;&#x7F6E;&#x989C;&#x8272; &#x4F8B;&#x5982; <code>{&quot;r&quot;:&quot;xxx&quot;,&quot;g&quot;:&quot;xxx&quot;,&quot;b&quot;:&quot;xxx&quot;}</code> &#x5341;&#x8FDB;&#x5236;&#x8868;&#x793A;</td>
</tr>
<tr>
<td>is_hyaline</td>
<td>boolean</td>
<td>false</td>
<td>&#x5426;</td>
<td>&#x662F;&#x5426;&#x9700;&#x8981;&#x900F;&#x660E;&#x5E95;&#x8272;&#xFF0C;&#x4E3A; true &#x65F6;&#xFF0C;&#x751F;&#x6210;&#x900F;&#x660E;&#x5E95;&#x8272;&#x7684;&#x5C0F;&#x7A0B;&#x5E8F;</td>
</tr>
</tbody>
</table>
<h4 id="&#x8FD4;&#x56DE;&#x503C;">&#x8FD4;&#x56DE;&#x503C;</h4>
<h5 id="object">Object</h5>
<p>&#x8FD4;&#x56DE;&#x7684; JSON &#x6570;&#x636E;&#x5305;</p>
<table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>errcode</td>
<td>number</td>
<td>&#x9519;&#x8BEF;&#x7801;</td>
</tr>
<tr>
<td>errmsg</td>
<td>string</td>
<td>&#x9519;&#x8BEF;&#x4FE1;&#x606F;</td>
</tr>
</tbody>
</table>
<p><strong>errcode &#x7684;&#x5408;&#x6CD5;&#x503C;</strong></p>
<table>
<thead>
<tr>
<th>&#x503C;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>45009</td>
<td>&#x8C03;&#x7528;&#x5206;&#x949F;&#x9891;&#x7387;&#x53D7;&#x9650;(&#x76EE;&#x524D;5000&#x6B21;/&#x5206;&#x949F;&#xFF0C;&#x4F1A;&#x8C03;&#x6574;)&#xFF0C;&#x5982;&#x9700;&#x5927;&#x91CF;&#x5C0F;&#x7A0B;&#x5E8F;&#x7801;&#xFF0C;&#x5EFA;&#x8BAE;&#x9884;&#x751F;&#x6210;&#x3002;</td>
</tr>
<tr>
<td>41030</td>
<td>&#x6240;&#x4F20;page&#x9875;&#x9762;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6216;&#x8005;&#x5C0F;&#x7A0B;&#x5E8F;&#x6CA1;&#x6709;&#x53D1;&#x5E03;</td>
</tr>
</tbody>
</table>
<h4 id="&#x8FD4;&#x56DE;&#x503C;&#x8BF4;&#x660E;">&#x8FD4;&#x56DE;&#x503C;&#x8BF4;&#x660E;</h4>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x6210;&#x529F;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x56FE;&#x7247;&#x4E8C;&#x8FDB;&#x5236;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#xFF0C;&#x4F1A;&#x8FD4;&#x56DE; JSON &#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<h4 id="&#x6CE8;&#x610F;">&#x6CE8;&#x610F;</h4>
<ul>
<li>POST &#x53C2;&#x6570;&#x9700;&#x8981;&#x8F6C;&#x6210; JSON &#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E0D;&#x652F;&#x6301; form &#x8868;&#x5355;&#x63D0;&#x4EA4;&#x3002;</li>
<li>&#x63A5;&#x53E3;&#x53EA;&#x80FD;&#x751F;&#x6210;&#x5DF2;&#x53D1;&#x5E03;&#x7684;&#x5C0F;&#x7A0B;&#x5E8F;&#x7684;&#x4E8C;&#x7EF4;&#x7801;</li>
<li>&#x8C03;&#x7528;&#x5206;&#x949F;&#x9891;&#x7387;&#x53D7;&#x9650;&#xFF08;5000&#x6B21;/&#x5206;&#x949F;&#xFF09;&#xFF0C;&#x5982;&#x9700;&#x5927;&#x91CF;&#x5C0F;&#x7A0B;&#x5E8F;&#x7801;&#xFF0C;&#x5EFA;&#x8BAE;&#x9884;&#x751F;&#x6210;</li>
</ul>
<h4 id="&#x83B7;&#x53D6;-scene-&#x503C;">&#x83B7;&#x53D6; scene &#x503C;</h4>
<p>scene &#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4F1A;&#x4F5C;&#x4E3A; query &#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x5C0F;&#x7A0B;&#x5E8F;/&#x5C0F;&#x6E38;&#x620F;&#x3002;&#x7528;&#x6237;&#x626B;&#x63CF;&#x8BE5;&#x7801;&#x8FDB;&#x5165;&#x5C0F;&#x7A0B;&#x5E8F;/&#x5C0F;&#x6E38;&#x620F;&#x540E;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x4E8C;&#x7EF4;&#x7801;&#x4E2D;&#x7684; scene &#x503C;&#xFF0C;&#x518D;&#x505A;&#x5904;&#x7406;&#x903B;&#x8F91;&#x3002;</p>
<p>&#x8C03;&#x8BD5;&#x9636;&#x6BB5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x81EA;&#x5B9A;&#x4E49;&#x53C2;&#x6570; scene=xxxx &#x8FDB;&#x884C;&#x6A21;&#x62DF;&#xFF0C;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x6A21;&#x62DF;&#x65F6;&#x7684; scene &#x7684;&#x53C2;&#x6570;&#x503C;&#x9700;&#x8981;&#x8FDB;&#x884C; <code>encodeURIComponent</code></p>
<p><strong>&#x5C0F;&#x7A0B;&#x5E8F;</strong></p>
<pre><code class="language-js">Page({
  onLoad(query) {
    <span class="hljs-comment">// scene &#x9700;&#x8981;&#x4F7F;&#x7528; decodeURIComponent &#x624D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#x65F6;&#x4F20;&#x5165;&#x7684; scene</span>
    <span class="hljs-keyword">const</span> scene = <span class="hljs-built_in">decodeURIComponent</span>(query.scene)
  }
})
</code></pre>
<p><strong>&#x5C0F;&#x6E38;&#x620F;</strong></p>
<pre><code class="language-js"><span class="hljs-comment">// &#x5728;&#x9996;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#x901A;&#x8FC7; wx.getLaunchOptionsSync &#x63A5;&#x53E3;&#x83B7;&#x53D6;</span>
<span class="hljs-keyword">const</span> {query} = wx.getLaunchOptionsSync()
<span class="hljs-keyword">const</span> scene = <span class="hljs-built_in">decodeURIComponent</span>(query.scene)

<span class="hljs-comment">// &#x6216;&#x8005;&#x5728; wx.onShow &#x4E8B;&#x4EF6;&#x4E2D;&#x83B7;&#x53D6;</span>
wx.onShow(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">{query}</span>) </span>{
  <span class="hljs-comment">// scene &#x9700;&#x8981;&#x4F7F;&#x7528; decodeURIComponent &#x624D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#x65F6;&#x4F20;&#x5165;&#x7684; scene</span>
  <span class="hljs-keyword">const</span> scene = <span class="hljs-built_in">decodeURIComponent</span>(query.scene)
})
</code></pre>

                            </section>
                        </div>
                        
                    </div>
                
</body>
</html>

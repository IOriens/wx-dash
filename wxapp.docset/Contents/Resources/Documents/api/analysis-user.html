<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>用户画像</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="用户画像">用户画像</h3>
<p>获取小程序新增或活跃用户的画像分布数据。时间范围支持昨天、最近7天、最近30天。其中，新增用户数为时间范围内首次访问小程序的去重用户数，活跃用户数为时间范围内访问过小程序的去重用户数。画像属性包括用户年龄、性别、省份、城市、终端类型、机型。</p>
<p>接口地址：
<a href="https://api.weixin.qq.com/datacube/getweanalysisappiduserportrait?access_token=ACCESS_TOKEN" target="_blank">https://api.weixin.qq.com/datacube/getweanalysisappiduserportrait?access_token=ACCESS_TOKEN</a></p>
<p><strong> POST 请求参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，开始日期与结束日期相差的天数限定为0/6/29，分别表示查询最近1/7/30天数据，end_date允许设置的最大值为昨日</td>
</tr>
</tbody>
</table>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
    <span class="hljs-string">"begin_date"</span> : <span class="hljs-string">"2017-06-11"</span>,
    <span class="hljs-string">"end_date"</span> : <span class="hljs-string">"2017-06-17"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<p>每次请求返回选定的时间范围及以下指标项：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间范围,如： "20170611-20170617"</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新用户</td>
</tr>
<tr>
<td>visit_uv</td>
<td>活跃用户</td>
</tr>
</tbody>
</table>
<p>每个指标项下包括的属性：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>province</td>
<td>省份，如北京、广东等</td>
</tr>
<tr>
<td>city</td>
<td>城市，如北京、广州等</td>
</tr>
<tr>
<td>genders</td>
<td>性别，包括男、女、未知</td>
</tr>
<tr>
<td>platforms</td>
<td>终端类型，包括iPhone, android,其他</td>
</tr>
<tr>
<td>devices</td>
<td>机型，如苹果iPhone6, OPPO R9等</td>
</tr>
<tr>
<td>ages</td>
<td>年龄，包括17岁以下、18-24岁等区间</td>
</tr>
</tbody>
</table>
<p>每个属性下包括的数据项：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>属性值id</td>
</tr>
<tr>
<td>name</td>
<td>属性值名称，与id一一对应。如属性为province时，返回的属性值名称包括“广东”等</td>
</tr>
<tr>
<td>value</td>
<td>属性值对应的指标值，如指标为visit_uv,属性为province,属性值为"广东省”，value对应广东地区的活跃用户数</td>
</tr>
</tbody>
</table>
<p><strong>返回数据示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170611"</span>,
  <span class="hljs-string">"visit_uv_new"</span>: {
    <span class="hljs-string">"province"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">31</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"广东省"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">215</span>
      }
    ],
    <span class="hljs-string">"city"</span>: [
     {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">3102</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"广州"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">78</span>
      }
    ],
    <span class="hljs-string">"genders"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"男"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">2146</span>
      }
    ],
    <span class="hljs-string">"platforms"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"iPhone"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">27642</span>
      }
    ],
    <span class="hljs-string">"devices"</span>: [
      {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"OPPO R9"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">61</span>
      }
    ],
    <span class="hljs-string">"ages"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"17岁以下"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">151</span>
      }
    ]
  },
  <span class="hljs-string">"visit_uv"</span>: {
    <span class="hljs-string">"province"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">31</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"广东省"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">1341</span>
      }
    ],
    <span class="hljs-string">"city"</span>: [
     {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">3102</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"广州"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">234</span>
      }
    ],
    <span class="hljs-string">"genders"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"男"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">14534</span>
      }
    ],
    <span class="hljs-string">"platforms"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"iPhone"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">21750</span>
      }
    ],
    <span class="hljs-string">"devices"</span>: [
      {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"OPPO R9"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">617</span>
      }
    ],
    <span class="hljs-string">"ages"</span>: [
      {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"17岁以下"</span>,
        <span class="hljs-string">"value"</span>: <span class="hljs-number">3156</span>
      }
    ]
  }
}
</code></pre>
<p>注：</p>
<ol>
<li>由于部分用户属性数据缺失，属性值可能出现 “未知”。</li>
<li>机型数据无 id 字段，暂只提供用户数最多的 top20。</li>
</ol>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

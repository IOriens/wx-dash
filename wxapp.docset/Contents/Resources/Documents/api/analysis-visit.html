<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>访问分析</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="访问分析">访问分析</h3>
<p>获取小程序访问分析数据，数据说明参见<a href="https://mp.weixin.qq.com/debug/wxadoc/analysis/regular/?t=2018413#%E8%AE%BF%E9%97%AE%E5%88%86%E6%9E%90" target="_blank">访问分析</a></p>
<h4 id="访问趋势">访问趋势</h4>
<h5 id="日趋势">日趋势</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappiddailyvisittrend?access_token=ACCESS_TOKEN
</code></pre><p><strong> POST 参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，限定查询1天数据，end_date允许设置的最大值为昨日</td>
</tr>
</tbody>
</table>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"begin_date"</span> : <span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"end_date"</span> : <span class="hljs-string">"20170313"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间： 如： "20170313"</td>
</tr>
<tr>
<td>session_cnt</td>
<td>打开次数</td>
</tr>
<tr>
<td>visit_pv</td>
<td>访问次数</td>
</tr>
<tr>
<td>visit_uv</td>
<td>访问人数</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新用户数</td>
</tr>
<tr>
<td>stay_time_uv</td>
<td>人均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>stay_time_session</td>
<td>次均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>visit_depth</td>
<td>平均访问深度 (浮点型)</td>
</tr>
</tbody>
</table>
<p><strong>返回数据示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"list"</span>: [
    {
      <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170313"</span>,
      <span class="hljs-string">"session_cnt"</span>: <span class="hljs-number">142549</span>,
      <span class="hljs-string">"visit_pv"</span>: <span class="hljs-number">472351</span>,
      <span class="hljs-string">"visit_uv"</span>: <span class="hljs-number">55500</span>,
      <span class="hljs-string">"visit_uv_new"</span>: <span class="hljs-number">5464</span>,
      <span class="hljs-string">"stay_time_session"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"visit_depth"</span>: <span class="hljs-number">1.9838</span>
    }
  ]
}
</code></pre>
<h5 id="周趋势">周趋势</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidweeklyvisittrend?access_token=ACCESS_TOKEN
</code></pre><p><strong> POST 参数说明:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期，为周一日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，为周日日期，限定查询一周数据</td>
</tr>
</tbody>
</table>
<p><strong>注意：请求json和返回json与天的一致，这里限定查询一个自然周的数据，时间必须按照自然周的方式输入：
如：20170306(周一), 20170312(周日)</strong></p>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
<span class="hljs-string">"begin_date"</span>:<span class="hljs-string">"20170306"</span>,
<span class="hljs-string">"end_date"</span>:<span class="hljs-string">"20170312"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间，如："20170306-20170312"</td>
</tr>
<tr>
<td>session_cnt</td>
<td>打开次数（自然周内汇总）</td>
</tr>
<tr>
<td>visit_pv</td>
<td>访问次数（自然周内汇总）</td>
</tr>
<tr>
<td>visit_uv</td>
<td>访问人数（自然周内去重）</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新用户数（自然周内去重）</td>
</tr>
<tr>
<td>stay_time_uv</td>
<td>人均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>stay_time_session</td>
<td>次均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>visit_depth</td>
<td>平均访问深度 (浮点型)</td>
</tr>
</tbody>
</table>
<p><strong>返回内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"list"</span>: [
    {
      <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170306-20170312"</span>,
      <span class="hljs-string">"session_cnt"</span>: <span class="hljs-number">986780</span>,
      <span class="hljs-string">"visit_pv"</span>: <span class="hljs-number">3251840</span>,
      <span class="hljs-string">"visit_uv"</span>: <span class="hljs-number">189405</span>,
      <span class="hljs-string">"visit_uv_new"</span>: <span class="hljs-number">45592</span>,
      <span class="hljs-string">"stay_time_session"</span>: <span class="hljs-number">54.5346</span>,
      <span class="hljs-string">"visit_depth"</span>: <span class="hljs-number">1.9735</span>
    }
  ]
}
</code></pre>
<h5 id="月趋势">月趋势</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidmonthlyvisittrend?access_token=ACCESS_TOKEN
</code></pre><p><strong> POST 参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期，为自然月第一天</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，为自然月最后一天，限定查询一个月数据</td>
</tr>
</tbody>
</table>
<p><strong>注意：请求json和返回json与天的一致，这里限定查询一个自然月的数据，时间必须按照自然月的方式输入：
如：20170201(月初), 20170228(月末)</strong></p>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
<span class="hljs-string">"begin_date"</span>:<span class="hljs-string">"20170201"</span>,
<span class="hljs-string">"end_date"</span>:<span class="hljs-string">"20170228"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间，如："201702"</td>
</tr>
<tr>
<td>session_cnt</td>
<td>打开次数（自然月内汇总）</td>
</tr>
<tr>
<td>visit_pv</td>
<td>访问次数（自然月内汇总）</td>
</tr>
<tr>
<td>visit_uv</td>
<td>访问人数（自然月内去重）</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新用户数（自然月内去重）</td>
</tr>
<tr>
<td>stay_time_uv</td>
<td>人均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>stay_time_session</td>
<td>次均停留时长 (浮点型，单位：秒)</td>
</tr>
<tr>
<td>visit_depth</td>
<td>平均访问深度 (浮点型)</td>
</tr>
</tbody>
</table>
<p><strong>返回内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"list"</span>: [
    {
      <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"201702"</span>,
      <span class="hljs-string">"session_cnt"</span>: <span class="hljs-number">126513</span>,
      <span class="hljs-string">"visit_pv"</span>: <span class="hljs-number">426113</span>,
      <span class="hljs-string">"visit_uv"</span>: <span class="hljs-number">48659</span>,
      <span class="hljs-string">"visit_uv_new"</span>: <span class="hljs-number">6726</span>,
      <span class="hljs-string">"stay_time_session"</span>: <span class="hljs-number">56.4112</span>,
      <span class="hljs-string">"visit_depth"</span>: <span class="hljs-number">2.0189</span>
    }
  ]
}
</code></pre>
<h4 id="访问分布">访问分布</h4>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidvisitdistribution?access_token=ACCESS_TOKEN
</code></pre><p><strong>POST 参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，限定查询1天数据，end_date允许设置的最大值为昨日</td>
</tr>
</tbody>
</table>
<p><strong>POST 内容示例：</strong></p>
<pre><code class="lang-json">{
<span class="hljs-string">"begin_date"</span>:<span class="hljs-string">"20170313"</span>,
<span class="hljs-string">"end_date"</span>:<span class="hljs-string">"20170313"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间： 如： "20170313"</td>
</tr>
<tr>
<td>list</td>
<td>存入所有类型的指标情况</td>
</tr>
</tbody>
</table>
<p><strong> list 的每一项包括：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>分布类型</td>
</tr>
<tr>
<td>item_list</td>
<td>分布数据列表</td>
</tr>
</tbody>
</table>
<p><strong>分布类型（index）的取值范围：</strong></p>
<table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_source_session_cnt</td>
<td>访问来源分布</td>
</tr>
<tr>
<td>access_staytime_info</td>
<td>访问时长分布</td>
</tr>
<tr>
<td>access_depth_info</td>
<td>访问深度的分布</td>
</tr>
</tbody>
</table>
<p><strong>每个数据项包括：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>场景 id</td>
</tr>
<tr>
<td>value   场景下的值（均为整数型）</td>
</tr>
</tbody>
</table>
<p><strong> key对应关系如下：</strong></p>
<p>访问来源：(index="access_source_session_cnt")</p>
<blockquote>
<p>1：小程序历史列表</p>
<p>2：搜索</p>
<p>3：会话</p>
<p>4：二维码</p>
<p>5：公众号主页</p>
<p>6：聊天顶部</p>
<p>7：系统桌面</p>
<p>8：小程序主页</p>
<p>9：附近的小程序</p>
<p>10：其他</p>
<p>11：模板消息</p>
<p>12：客服消息</p>
<p>13: 公众号菜单</p>
<p>14: APP分享</p>
<p>15: 支付完成页</p>
<p>16: 长按识别二维码</p>
<p>17: 相册选取二维码</p>
<p>18: 公众号文章</p>
<p>19：钱包</p>
<p>20：卡包</p>
<p>21：小程序内卡券</p>
<p>22：其他小程序</p>
<p>23：其他小程序返回</p>
<p>24：卡券适用门店列表</p>
<p>25：搜索框快捷入口</p>
<p>26：小程序客服消息</p>
<p>27：公众号下发</p>
<p>28: 会话左下角菜单</p>
<p>29: 小程序任务栏</p>
<p>30: 长按小程序菜单圆点</p>
<p>31: 连wifi成功页</p>
<p>32: 城市服务</p>
</blockquote>
<p>访问时长：(index="access_staytime_info")</p>
<blockquote>
<p>1: 0-2s</p>
<p>2: 3-5s</p>
<p>3: 6-10s</p>
<p>4: 11-20s</p>
<p>5: 20-30s</p>
<p>6: 30-50s</p>
<p>7: 50-100s</p>
<p>8: > 100s</p>
</blockquote>
<p>平均访问深度：(index="access_depth_info")</p>
<blockquote>
<p>1: 1页</p>
<p>2: 2页</p>
<p>3: 3页</p>
<p>4: 4页</p>
<p>5: 5页</p>
<p>6: 6-10页</p>
<p>7: >10页</p>
</blockquote>
<p><strong>返回数据示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"list"</span>: [
    {
      <span class="hljs-string">"index"</span>: <span class="hljs-string">"access_source_session_cnt"</span>,
      <span class="hljs-string">"item_list"</span>: [
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">10</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">5</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">8</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">687</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">7</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">10740</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">6</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">1961</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">5</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">677</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">4</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">653</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">3</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">1120</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">2</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">10243</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">116578</span>
        }
      ]
    },
    {
      <span class="hljs-string">"index"</span>: <span class="hljs-string">"access_staytime_info"</span>,
      <span class="hljs-string">"item_list"</span>: [
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">8</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">16329</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">7</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">19322</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">6</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">21832</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">5</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">19539</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">4</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">29670</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">3</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">19667</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">2</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">11794</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">4511</span>
        }
      ]
    },
    {
      <span class="hljs-string">"index"</span>: <span class="hljs-string">"access_depth_info"</span>,
      <span class="hljs-string">"item_list"</span>: [
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">5</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">217</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">4</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">3259</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">3</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">32445</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">2</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">63542</span>
        },
        {
          <span class="hljs-string">"key"</span>: <span class="hljs-number">1</span>,
          <span class="hljs-string">"value"</span>: <span class="hljs-number">43201</span>
        }
      ]
    }
  ]
}
</code></pre>
<h4 id="访问留存">访问留存</h4>
<h5 id="日留存">日留存</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappiddailyretaininfo?access_token=ACCESS_TOKEN
</code></pre><p><strong> POST 参数说明:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，限定查询1天数据，end_date允许设置的最大值为昨日</td>
</tr>
</tbody>
</table>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"begin_date"</span> : <span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"end_date"</span> : <span class="hljs-string">"20170313"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>visit_uv_new</td>
<td>新增用户留存</td>
</tr>
<tr>
<td>visit_uv</td>
<td>活跃用户留存</td>
</tr>
</tbody>
</table>
<p><strong>visit_uv、visit_uv_new 的每一项包括:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>标识，0开始，0表示当天，1表示1天后，依此类推，key取值分别是：0,1,2,3,4,5,6,7,14,30</td>
</tr>
<tr>
<td>value</td>
<td>key对应日期的新增用户数/活跃用户数（key=0时）或留存用户数（k>0时）</td>
</tr>
</tbody>
</table>
<p><strong>返回数据示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"visit_uv_new"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">5464</span>
    }
  ],
  <span class="hljs-string">"visit_uv"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">55500</span>
    }
  ]
}
</code></pre>
<h5 id="周留存">周留存</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidweeklyretaininfo?access_token=ACCESS_TOKEN
</code></pre><p><strong>POST 参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期，为周一日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，为周日日期，限定查询一周数据</td>
</tr>
</tbody>
</table>
<p><strong>注意：请求json和返回json与天的一致，这里限定查询一个自然周的数据，时间必须按照自然周的方式输入：
如：20170306(周一), 20170312(周日)</strong></p>
<p><strong> POST 内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"begin_date"</span> : <span class="hljs-string">"20170306"</span>,
  <span class="hljs-string">"end_date"</span> : <span class="hljs-string">"20170312"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间，如："20170306-20170312"</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新增用户留存</td>
</tr>
<tr>
<td>visit_uv</td>
<td>活跃用户留存</td>
</tr>
</tbody>
</table>
<p><strong>visit_uv、visit_uv_new 的每一项包括:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>标识，0开始，0表示当周，1表示1周后，依此类推，key取值分别是：0,1,2,3,4</td>
</tr>
<tr>
<td>value</td>
<td>key对应日期的新增用户数/活跃用户数（key=0时）或留存用户数（k>0时）</td>
</tr>
</tbody>
</table>
<p><strong> 返回内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170306-20170312"</span>,
  <span class="hljs-string">"visit_uv_new"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">0</span>
    },
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">16853</span>
    }
  ],
  <span class="hljs-string">"visit_uv"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">0</span>
    },
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">99310</span>
    }
  ]
}
</code></pre>
<h5 id="月留存">月留存</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidmonthlyretaininfo?access_token=ACCESS_TOKEN
</code></pre><p><strong> POST 参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期，为自然月第一天</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，为自然月最后一天，限定查询一个月数据</td>
</tr>
</tbody>
</table>
<p><strong>注意：请求json和返回json与天的一致，这里限定查询一个自然月的数据，时间必须按照自然月的方式输入：
如：20170201(月初), 20170228(月末)</strong></p>
<p><strong>POST 内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"begin_date"</span>:<span class="hljs-string">"20170201"</span>,
  <span class="hljs-string">"end_date"</span>:<span class="hljs-string">"20170228"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref_date</td>
<td>时间，如："201702"</td>
</tr>
<tr>
<td>visit_uv_new</td>
<td>新增用户留存</td>
</tr>
<tr>
<td>visit_uv</td>
<td>活跃用户留存</td>
</tr>
</tbody>
</table>
<p><strong>visit_uv、visit_uv_new 的每一项包括:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>标识，0开始，0表示当月，1表示1月后，key取值分别是：0,1</td>
</tr>
<tr>
<td>value</td>
<td>key对应日期的新增用户数/活跃用户数（key=0时）或留存用户数（k>0时）</td>
</tr>
</tbody>
</table>
<p><strong>返回内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"201702"</span>,
  <span class="hljs-string">"visit_uv_new"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">346249</span>
    }
  ],
  <span class="hljs-string">"visit_uv"</span>: [
    {
      <span class="hljs-string">"key"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"value"</span>: <span class="hljs-number">346249</span>
    }
  ]
}
</code></pre>
<h4 id="访问页面">访问页面</h4>
<h5 id="访问页面">访问页面</h5>
<p>接口地址</p>
<pre><code>https://api.weixin.qq.com/datacube/getweanalysisappidvisitpage?access_token=ACCESS_TOKEN
</code></pre><p><strong>POST 参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_date</td>
<td>是</td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>是</td>
<td>结束日期，限定查询1天数据，end_date允许设置的最大值为昨日</td>
</tr>
</tbody>
</table>
<p><strong>POST 内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"begin_date"</span>:<span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"end_date"</span>:<span class="hljs-string">"20170313"</span>
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>page_path</td>
<td>页面路径</td>
</tr>
<tr>
<td>page_visit_pv</td>
<td>访问次数</td>
</tr>
<tr>
<td>page_visit_uv</td>
<td>访问人数</td>
</tr>
<tr>
<td>page_staytime_pv</td>
<td>次均停留时长</td>
</tr>
<tr>
<td>entrypage_pv</td>
<td>进入页次数</td>
</tr>
<tr>
<td>exitpage_pv</td>
<td>退出页次数</td>
</tr>
<tr>
<td>page_share_pv</td>
<td>转发次数</td>
</tr>
<tr>
<td>page_share_uv</td>
<td>转发人数</td>
</tr>
</tbody>
</table>
<p><strong>返回内容示例：</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"ref_date"</span>: <span class="hljs-string">"20170313"</span>,
  <span class="hljs-string">"list"</span>: [
    {
      <span class="hljs-string">"page_path"</span>: <span class="hljs-string">"pages/main/main.html"</span>,
      <span class="hljs-string">"page_visit_pv"</span>: <span class="hljs-number">213429</span>,
      <span class="hljs-string">"page_visit_uv"</span>: <span class="hljs-number">55423</span>,
      <span class="hljs-string">"page_staytime_pv"</span>: <span class="hljs-number">8.139198</span>,
      <span class="hljs-string">"entrypage_pv"</span>: <span class="hljs-number">117922</span>,
      <span class="hljs-string">"exitpage_pv"</span>: <span class="hljs-number">61304</span>,
      <span class="hljs-string">"page_share_pv"</span>: <span class="hljs-number">180</span>,
      <span class="hljs-string">"page_share_uv"</span>: <span class="hljs-number">166</span>
    },
    {
      <span class="hljs-string">"page_path"</span>: <span class="hljs-string">"pages/linedetail/linedetail.html"</span>,
      <span class="hljs-string">"page_visit_pv"</span>: <span class="hljs-number">155030</span>,
      <span class="hljs-string">"page_visit_uv"</span>: <span class="hljs-number">42195</span>,
      <span class="hljs-string">"page_staytime_pv"</span>: <span class="hljs-number">35.462395</span>,
      <span class="hljs-string">"entrypage_pv"</span>: <span class="hljs-number">21101</span>,
      <span class="hljs-string">"exitpage_pv"</span>: <span class="hljs-number">47051</span>,
      <span class="hljs-string">"page_share_pv"</span>: <span class="hljs-number">47</span>,
      <span class="hljs-string">"page_share_uv"</span>: <span class="hljs-number">42</span>
    },
    {
      <span class="hljs-string">"page_path"</span>: <span class="hljs-string">"pages/search/search.html"</span>,
      <span class="hljs-string">"page_visit_pv"</span>: <span class="hljs-number">65011</span>,
      <span class="hljs-string">"page_visit_uv"</span>: <span class="hljs-number">24716</span>,
      <span class="hljs-string">"page_staytime_pv"</span>: <span class="hljs-number">6.889634</span>,
      <span class="hljs-string">"entrypage_pv"</span>: <span class="hljs-number">1811</span>,
      <span class="hljs-string">"exitpage_pv"</span>: <span class="hljs-number">3198</span>,
      <span class="hljs-string">"page_share_pv"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"page_share_uv"</span>: <span class="hljs-number">0</span>
    },
    {
      <span class="hljs-string">"page_path"</span>: <span class="hljs-string">"pages/stationdetail/stationdetail.html"</span>,
      <span class="hljs-string">"page_visit_pv"</span>: <span class="hljs-number">29953</span>,
      <span class="hljs-string">"page_visit_uv"</span>: <span class="hljs-number">9695</span>,
      <span class="hljs-string">"page_staytime_pv"</span>: <span class="hljs-number">7.558508</span>,
      <span class="hljs-string">"entrypage_pv"</span>: <span class="hljs-number">1386</span>,
      <span class="hljs-string">"exitpage_pv"</span>: <span class="hljs-number">2285</span>,
      <span class="hljs-string">"page_share_pv"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"page_share_uv"</span>: <span class="hljs-number">0</span>
    },
    {
      <span class="hljs-string">"page_path"</span>: <span class="hljs-string">"pages/switch-city/switch-city.html"</span>,
      <span class="hljs-string">"page_visit_pv"</span>: <span class="hljs-number">8928</span>,
      <span class="hljs-string">"page_visit_uv"</span>: <span class="hljs-number">4017</span>,
      <span class="hljs-string">"page_staytime_pv"</span>: <span class="hljs-number">9.22659</span>,
      <span class="hljs-string">"entrypage_pv"</span>: <span class="hljs-number">748</span>,
      <span class="hljs-string">"exitpage_pv"</span>: <span class="hljs-number">1613</span>,
      <span class="hljs-string">"page_share_pv"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"page_share_uv"</span>: <span class="hljs-number">0</span>
    }
  ]
}
</code></pre>
<p><strong>返回参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>page_path</td>
<td>页面路径</td>
</tr>
<tr>
<td>page_visit_pv</td>
<td>访问次数</td>
</tr>
<tr>
<td>page_visit_uv</td>
<td>访问人数</td>
</tr>
<tr>
<td>page_staytime_pv</td>
<td>次均停留时长</td>
</tr>
<tr>
<td>entrypage_pv</td>
<td>进入页次数</td>
</tr>
<tr>
<td>exitpage_pv</td>
<td>退出页次数</td>
</tr>
<tr>
<td>page_share_pv</td>
<td>转发次数</td>
</tr>
<tr>
<td>page_share_uv</td>
<td>转发人数</td>
</tr>
</tbody>
</table>
<p><strong>注意：目前只提供按 page_visit_pv 排序的 top200 </strong></p>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Object wx.getLaunchOptionsSync()</title>
  <link rel="stylesheet" href="../../../../../../../../style.css" />
  <link rel="stylesheet" href="../../../../../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="Object-wx-getLaunchOptionsSync"><a href="#Object-wx-getLaunchOptionsSync" aria-hidden="true" class="header-anchor">#</a> Object wx.getLaunchOptionsSync()</h1> <blockquote><p>基础库 2.1.2 开始支持，低版本需做<a href="../../../../framework/compatibility.html">兼容处理</a>。</p></blockquote> <blockquote><p>本接口从基础库版本 <a href="../../../../framework/compatibility.html">2.9.4</a> 起支持在小程序插件中使用</p></blockquote> <p>获取小程序启动时的参数。与 <a href="../../../../reference/api/App.html#onlaunchobject-object"><code>App.onLaunch</code></a> 的回调参数一致。</p> <h2 id="返回值"><a href="#返回值" aria-hidden="true" class="header-anchor">#</a> 返回值</h2> <h3 id="Object"><a href="#Object" aria-hidden="true" class="header-anchor">#</a> Object</h3> <p>启动参数</p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>path</td> <td>string</td> <td>启动小程序的路径 (代码包路径)</td></tr> <tr><td>scene</td> <td>number</td> <td>启动小程序的<a href="../../../../framework/app-service/scene.html">场景值</a></td></tr> <tr><td>query</td> <td>Object</td> <td>启动小程序的 query 参数</td></tr> <tr><td>shareTicket</td> <td>string</td> <td>shareTicket，详见<a href="../../../../framework/open-ability/share.html">获取更多转发信息</a></td></tr> <tr><td>referrerInfo</td> <td>Object</td> <td>来源信息。从另一个小程序、公众号或 App 进入小程序时返回。否则返回 <code>{}</code>。(参见后文注意)</td></tr> <tr><td>forwardMaterials</td> <td>Array.&lt;Object&gt;</td> <td>打开的文件信息数组，只有从聊天素材场景打开（scene为1173）才会携带该参数</td></tr></tbody></table></div><p><strong>referrerInfo 的结构</strong></p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>appId</td> <td>string</td> <td>来源小程序、公众号或 App 的 appId</td></tr> <tr><td>extraData</td> <td>Object</td> <td>来源小程序传过来的数据，scene=1037或1038时支持</td></tr></tbody></table></div><p><strong>forwardMaterials 的结构</strong></p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>type</td> <td>string</td> <td>文件的mimetype类型</td></tr> <tr><td>name</td> <td>string</td> <td>文件名</td></tr> <tr><td>path</td> <td>string</td> <td>文件路径（如果是webview则是url）</td></tr> <tr><td>size</td> <td>number</td> <td>文件大小</td></tr></tbody></table></div><h2 id="返回有效-referrerInfo-的场景"><a href="#返回有效-referrerInfo-的场景" aria-hidden="true" class="header-anchor">#</a> 返回有效 referrerInfo 的场景</h2> <div class="table-wrp"><table><thead><tr><th>场景值</th> <th>场景</th> <th>appId含义</th></tr></thead> <tbody><tr><td>1020</td> <td>公众号 profile 页相关小程序列表</td> <td>来源公众号</td></tr> <tr><td>1035</td> <td>公众号自定义菜单</td> <td>来源公众号</td></tr> <tr><td>1036</td> <td>App 分享消息卡片</td> <td>来源App</td></tr> <tr><td>1037</td> <td>小程序打开小程序</td> <td>来源小程序</td></tr> <tr><td>1038</td> <td>从另一个小程序返回</td> <td>来源小程序</td></tr> <tr><td>1043</td> <td>公众号模板消息</td> <td>来源公众号</td></tr> <tr><td>1069</td> <td>移动应用</td> <td>来源App</td></tr></tbody></table></div><h2 id="注意"><a href="#注意" aria-hidden="true" class="header-anchor">#</a> 注意</h2> <p>部分版本在无<code>referrerInfo</code>的时候会返回 <code>undefined</code>，建议使用 <code>options.referrerInfo &amp;&amp; options.referrerInfo.appId</code> 进行判断。</p></div></div> <!---->    
</body>
</html>

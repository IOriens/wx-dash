<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>模板</title>
  <link rel="stylesheet" href="../../../style.css" />
  <link rel="stylesheet" href="../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="模板">模板</h1>
<p>WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。</p>
<h3 id="定义模板">定义模板</h3>
<p>使用 name 属性，作为模板的名字。然后在<code><template/></code>内定义代码片段，如：</p>
<pre><code class="lang-html"><span class="hljs-comment"><!--
  index: int
  msg: string
  time: string
--></span>
<span class="hljs-tag"><<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"msgItem"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">view</span>></span>
    <span class="hljs-tag"><<span class="hljs-name">text</span>></span> {{index}}: {{msg}} <span class="hljs-tag"></<span class="hljs-name">text</span>></span>
    <span class="hljs-tag"><<span class="hljs-name">text</span>></span> Time: {{time}} <span class="hljs-tag"></<span class="hljs-name">text</span>></span>
  <span class="hljs-tag"></<span class="hljs-name">view</span>></span>
<span class="hljs-tag"></<span class="hljs-name">template</span>></span>
</code></pre>
<h3 id="使用模板">使用模板</h3>
<p>使用 is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入，如：</p>
<pre><code class="lang-html"><span class="hljs-tag"><<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"msgItem"</span> <span class="hljs-attr">data</span>=<span class="hljs-string">"{{...item}}"</span>/></span>
</code></pre>
<pre><code class="lang-js">Page({
  data: {
    item: {
      index: <span class="hljs-number">0</span>,
      msg: <span class="hljs-string">'this is a template'</span>,
      time: <span class="hljs-string">'2016-09-15'</span>
    }
  }
})
</code></pre>
<p>is 属性可以使用 Mustache 语法，来动态决定具体需要渲染哪个模板：</p>
<pre><code class="lang-html"><span class="hljs-tag"><<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"odd"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">view</span>></span> odd <span class="hljs-tag"></<span class="hljs-name">view</span>></span>
<span class="hljs-tag"></<span class="hljs-name">template</span>></span>
<span class="hljs-tag"><<span class="hljs-name">template</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"even"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">view</span>></span> even <span class="hljs-tag"></<span class="hljs-name">view</span>></span>
<span class="hljs-tag"></<span class="hljs-name">template</span>></span>

<span class="hljs-tag"><<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">"{{[1, 2, 3, 4, 5]}}"</span>></span>
    <span class="hljs-tag"><<span class="hljs-name">template</span> <span class="hljs-attr">is</span>=<span class="hljs-string">"{{item % 2 == 0 ? 'even' : 'odd'}}"</span>/></span>
<span class="hljs-tag"></<span class="hljs-name">block</span>></span>
</code></pre>
<h3 id="模板的作用域">模板的作用域</h3>
<p>模板拥有自己的作用域，只能使用 data 传入的数据以及模版定义文件中定义的 <code><wxs /></code> 模块。</p>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

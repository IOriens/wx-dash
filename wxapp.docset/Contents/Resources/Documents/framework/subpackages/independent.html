<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>独立分包</title>
  <link rel="stylesheet" href="../../../style.css" />
  <link rel="stylesheet" href="../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                    <div id="book-search-results">
                        <div class="search-noresults">
                            <section class="normal markdown-section">
                              <h1 id="&#x72EC;&#x7ACB;&#x5206;&#x5305;">&#x72EC;&#x7ACB;&#x5206;&#x5305;</h1>
<blockquote>
<p>&#x5FAE;&#x4FE1;&#x5BA2;&#x6237;&#x7AEF; 6.7.2&#xFF0C;&#x57FA;&#x7840;&#x5E93; <a href="../compatibility.html" title="&#x57FA;&#x7840;&#x5E93; 2.3.0 &#x5F00;&#x59CB;&#x652F;&#x6301;&#xFF0C;&#x4F4E;&#x7248;&#x672C;&#x9700;&#x505A;&#x517C;&#x5BB9;&#x5904;&#x7406;&#x3002;">2.3.0</a> &#x53CA;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x5F00;&#x59CB;&#x652F;&#x6301;&#x3002;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x8BF7;&#x4F7F;&#x7528; 1.02.1808300 &#x53CA;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x53EF;<a href="../../devtools/download.html">&#x70B9;&#x6B64;&#x4E0B;&#x8F7D;</a>&#x3002;</p>
</blockquote>
<p>&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x662F;&#x5C0F;&#x7A0B;&#x5E8F;&#x4E2D;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7C7B;&#x578B;&#x7684;&#x5206;&#x5305;&#xFF0C;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x4E8E;&#x4E3B;&#x5305;&#x548C;&#x5176;&#x4ED6;&#x5206;&#x5305;&#x8FD0;&#x884C;&#x3002;&#x4ECE;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x9875;&#x9762;&#x8FDB;&#x5165;&#x5C0F;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x4E3B;&#x5305;&#x3002;&#x5F53;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x666E;&#x901A;&#x5206;&#x5305;&#x6216;&#x4E3B;&#x5305;&#x5185;&#x9875;&#x9762;&#x65F6;&#xFF0C;&#x4E3B;&#x5305;&#x624D;&#x4F1A;&#x88AB;&#x4E0B;&#x8F7D;&#x3002;</p>
<p>&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6309;&#x9700;&#x5C06;&#x67D0;&#x4E9B;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x529F;&#x80FD;&#x72EC;&#x7ACB;&#x6027;&#x7684;&#x9875;&#x9762;&#x914D;&#x7F6E;&#x5230;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x3002;&#x5F53;&#x5C0F;&#x7A0B;&#x5E8F;&#x4ECE;&#x666E;&#x901A;&#x7684;&#x5206;&#x5305;&#x9875;&#x9762;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x9996;&#x5148;&#x4E0B;&#x8F7D;&#x4E3B;&#x5305;&#xFF1B;&#x800C;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E0D;&#x4F9D;&#x8D56;&#x4E3B;&#x5305;&#x5373;&#x53EF;&#x8FD0;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x63D0;&#x5347;&#x5206;&#x5305;&#x9875;&#x9762;&#x7684;&#x542F;&#x52A8;&#x901F;&#x5EA6;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x5C0F;&#x7A0B;&#x5E8F;&#x4E2D;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x3002;</p>
<blockquote>
<p>&#x5C0F;&#x6E38;&#x620F;&#x4E0D;&#x652F;&#x6301;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x3002;</p>
</blockquote>
<h3 id="&#x914D;&#x7F6E;&#x65B9;&#x6CD5;">&#x914D;&#x7F6E;&#x65B9;&#x6CD5;</h3>
<p>&#x5047;&#x8BBE;&#x5C0F;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>&#x251C;&#x2500;&#x2500; app.js
&#x251C;&#x2500;&#x2500; app.json
&#x251C;&#x2500;&#x2500; app.wxss
&#x251C;&#x2500;&#x2500; moduleA
&#x2502;   &#x2514;&#x2500;&#x2500; pages
&#x2502;       &#x251C;&#x2500;&#x2500; rabbit
&#x2502;       &#x2514;&#x2500;&#x2500; squirrel
&#x251C;&#x2500;&#x2500; moduleB
&#x2502;   &#x2514;&#x2500;&#x2500; pages
&#x2502;       &#x251C;&#x2500;&#x2500; pear
&#x2502;       &#x2514;&#x2500;&#x2500; pineapple
&#x251C;&#x2500;&#x2500; pages
&#x2502;   &#x251C;&#x2500;&#x2500; index
&#x2502;   &#x2514;&#x2500;&#x2500; logs
&#x2514;&#x2500;&#x2500; utils
</code></pre>
<p>&#x5F00;&#x53D1;&#x8005;&#x901A;&#x8FC7;&#x5728;<code>app.json</code>&#x7684;<code>subpackages</code>&#x5B57;&#x6BB5;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x5305;&#x914D;&#x7F6E;&#x9879;&#x4E2D;&#x5B9A;&#x4E49;<code>independent</code>&#x5B57;&#x6BB5;&#x58F0;&#x660E;&#x5BF9;&#x5E94;&#x5206;&#x5305;&#x4E3A;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x3002;</p>
<pre><code class="language-json">{
  <span class="hljs-attr">&quot;pages&quot;</span>: [<span class="hljs-string">&quot;pages/index&quot;</span>, <span class="hljs-string">&quot;pages/logs&quot;</span>],
  <span class="hljs-attr">&quot;subpackages&quot;</span>: [
    {
      <span class="hljs-attr">&quot;root&quot;</span>: <span class="hljs-string">&quot;moduleA&quot;</span>,
      <span class="hljs-attr">&quot;pages&quot;</span>: [<span class="hljs-string">&quot;pages/rabbit&quot;</span>, <span class="hljs-string">&quot;pages/squirrel&quot;</span>]
    },
    {
      <span class="hljs-attr">&quot;root&quot;</span>: <span class="hljs-string">&quot;moduleB&quot;</span>,
      <span class="hljs-attr">&quot;pages&quot;</span>: [<span class="hljs-string">&quot;pages/pear&quot;</span>, <span class="hljs-string">&quot;pages/pineapple&quot;</span>],
      <span class="hljs-attr">&quot;independent&quot;</span>: <span class="hljs-literal">true</span>
    }
  ]
}
</code></pre>
<h3 id="&#x9650;&#x5236;">&#x9650;&#x5236;</h3>
<p>&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x5C5E;&#x4E8E;&#x5206;&#x5305;&#x7684;&#x4E00;&#x79CD;&#x3002;&#x666E;&#x901A;&#x5206;&#x5305;&#x7684;&#x6240;&#x6709;&#x9650;&#x5236;&#x90FD;&#x5BF9;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x6709;&#x6548;&#x3002;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x63D2;&#x4EF6;&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x540C;&#x666E;&#x901A;&#x5206;&#x5305;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C;&#x4F7F;&#x7528;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x65F6;&#x8981;&#x6CE8;&#x610F;&#xFF1A;</p>
<ul>
<li><strong>&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x4E0D;&#x80FD;&#x4F9D;&#x8D56;&#x4E3B;&#x5305;&#x548C;&#x5176;&#x4ED6;&#x5206;&#x5305;&#x4E2D;&#x7684;&#x5185;&#x5BB9;</strong>&#xFF0C;&#x5305;&#x62EC;js&#x6587;&#x4EF6;&#x3001;template&#x3001;wxss&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#x3001;&#x63D2;&#x4EF6;&#x7B49;&#x3002;&#x4E3B;&#x5305;&#x4E2D;&#x7684;<code>app.wxss</code>&#x5BF9;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x65E0;&#x6548;&#xFF0C;&#x5E94;&#x907F;&#x514D;&#x5728;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x9875;&#x9762;&#x4E2D;&#x4F7F;&#x7528; <code>app.wxss</code> &#x4E2D;&#x7684;&#x6837;&#x5F0F;&#xFF1B;</li>
<li><code>App</code> &#x53EA;&#x80FD;&#x5728;&#x4E3B;&#x5305;&#x5185;&#x5B9A;&#x4E49;&#xFF0C;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x4E0D;&#x80FD;&#x5B9A;&#x4E49; <code>App</code>&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x65E0;&#x6CD5;&#x9884;&#x671F;&#x7684;&#x884C;&#x4E3A;&#xFF1B;</li>
<li>&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x6682;&#x65F6;&#x4E0D;&#x652F;&#x6301;&#x4F7F;&#x7528;&#x63D2;&#x4EF6;&#x3002;</li>
</ul>
<h3 id="&#x6CE8;&#x610F;&#x4E8B;&#x9879;">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3>
<h4 id="&#xFF08;1&#xFF09;&#x5173;&#x4E8E;-getapp">&#xFF08;1&#xFF09;&#x5173;&#x4E8E; <code>getApp()</code></h4>
<p>&#x4E0E;&#x666E;&#x901A;&#x5206;&#x5305;&#x4E0D;&#x540C;&#xFF0C;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;<code>App</code> &#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x88AB;&#x6CE8;&#x518C;&#xFF0C;&#x56E0;&#x6B64; <code>getApp()</code> &#x4E5F;&#x4E0D;&#x4E00;&#x5B9A;&#x53EF;&#x4EE5;&#x83B7;&#x5F97; <code>App</code> &#x5BF9;&#x8C61;&#xFF1A;</p>
<ul>
<li>&#x5F53;&#x7528;&#x6237;&#x4ECE;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x9875;&#x9762;&#x542F;&#x52A8;&#x5C0F;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4E3B;&#x5305;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;<code>App</code>&#x4E5F;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6B64;&#x65F6;&#x8C03;&#x7528; <code>getApp()</code> &#x83B7;&#x53D6;&#x5230;&#x7684;&#x662F; <code>undefined</code>&#x3002; &#x5F53;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x666E;&#x901A;&#x5206;&#x5305;&#x6216;&#x4E3B;&#x5305;&#x5185;&#x9875;&#x9762;&#x65F6;&#xFF0C;&#x4E3B;&#x5305;&#x624D;&#x4F1A;&#x88AB;&#x4E0B;&#x8F7D;&#xFF0C;<code>App</code> &#x624D;&#x4F1A;&#x88AB;&#x6CE8;&#x518C;&#x3002;</li>
<li>&#x5F53;&#x7528;&#x6237;&#x662F;&#x4ECE;&#x666E;&#x901A;&#x5206;&#x5305;&#x6216;&#x4E3B;&#x5305;&#x5185;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x5230;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x9875;&#x9762;&#x65F6;&#xFF0C;&#x4E3B;&#x5305;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x6B64;&#x65F6;&#x8C03;&#x7528; <code>getApp()</code> &#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x771F;&#x6B63;&#x7684; <code>App</code>&#x3002;</li>
</ul>
<p>&#x7531;&#x4E8E;&#x8FD9;&#x4E00;&#x9650;&#x5236;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x65E0;&#x6CD5;&#x901A;&#x8FC7; <code>App</code> &#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x548C;&#x5C0F;&#x7A0B;&#x5E8F;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5171;&#x4EAB;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x5728;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E00;&#x9700;&#x6C42;&#xFF0C;&#x57FA;&#x7840;&#x5E93; <a href="../compatibility.html" title="&#x57FA;&#x7840;&#x5E93; 2.2.4 &#x5F00;&#x59CB;&#x652F;&#x6301;&#xFF0C;&#x4F4E;&#x7248;&#x672C;&#x9700;&#x505A;&#x517C;&#x5BB9;&#x5904;&#x7406;&#x3002;">2.2.4</a> &#x7248;&#x672C;&#x5F00;&#x59CB; <code>getApp</code>&#x652F;&#x6301; <a href="../app-service/app.html#getappobject"><code>allowDefault</code></a>&#x53C2;&#x6570;&#xFF0C;&#x5728; <code>App</code> &#x672A;&#x5B9A;&#x4E49;&#x65F6;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x3002;&#x5F53;&#x4E3B;&#x5305;&#x52A0;&#x8F7D;&#xFF0C;<code>App</code> &#x88AB;&#x6CE8;&#x518C;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x8986;&#x76D6;&#x5408;&#x5E76;&#x5230;&#x771F;&#x6B63;&#x7684; <code>App</code> &#x4E2D;&#x3002;</p>
<p><strong>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;</strong></p>
<ul>
<li>&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;</li>
</ul>
<pre><code class="language-js"><span class="hljs-keyword">const</span> app = getApp({<span class="hljs-attr">allowDefault</span>: <span class="hljs-literal">true</span>}) <span class="hljs-comment">// {}</span>
app.data = <span class="hljs-number">456</span>
app.global = {}
</code></pre>
<ul>
<li>app.js &#x4E2D;</li>
</ul>
<pre><code class="language-js">App({
  <span class="hljs-attr">data</span>: <span class="hljs-number">123</span>,
  <span class="hljs-attr">other</span>: <span class="hljs-string">&apos;hello&apos;</span>
})

<span class="hljs-built_in">console</span>.log(getApp()) <span class="hljs-comment">// {global: {}, data: 456, other: &apos;hello&apos;}</span>
</code></pre>
<h4 id="&#xFF08;2&#xFF09;&#x5173;&#x4E8E;-app-&#x751F;&#x547D;&#x5468;&#x671F;">&#xFF08;2&#xFF09;&#x5173;&#x4E8E; <code>App</code> &#x751F;&#x547D;&#x5468;&#x671F;</h4>
<p>&#x5F53;&#x4ECE;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x542F;&#x52A8;&#x5C0F;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4E3B;&#x5305;&#x4E2D; <code>App</code> &#x7684; <code>onLaunch</code> &#x548C;&#x9996;&#x6B21; <code>onShow</code> &#x4F1A;&#x5728;&#x4ECE;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x9875;&#x9762;&#x9996;&#x6B21;&#x8FDB;&#x5165;&#x4E3B;&#x5305;&#x6216;&#x5176;&#x4ED6;&#x666E;&#x901A;&#x5206;&#x5305;&#x9875;&#x9762;&#x65F6;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x65E0;&#x6CD5;&#x5B9A;&#x4E49; <code>App</code>&#xFF0C;&#x5C0F;&#x7A0B;&#x5E8F;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x76D1;&#x542C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a href="../../api/wx.onAppShow.html"><code>wx.onAppShow</code></a>&#xFF0C;<a href="../../api/wx.onAppHide.html"><code>wx.onAppHide</code></a> &#x5B8C;&#x6210;&#x3002;<code>App</code> &#x4E0A;&#x7684;&#x5176;&#x4ED6;&#x4E8B;&#x4EF6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a href="../../api/wx.onError.html"><code>wx.onError</code></a>&#xFF0C;<a href="../../api/wx.onPageNotFound.html"><code>wx.onPageNotFound</code></a> &#x76D1;&#x542C;&#x3002;</p>
<h3 id="&#x4F4E;&#x7248;&#x672C;&#x517C;&#x5BB9;">&#x4F4E;&#x7248;&#x672C;&#x517C;&#x5BB9;</h3>
<p>&#x5728;&#x4F4E;&#x4E8E;6.7.2&#x7248;&#x672C;&#x7684;&#x5FAE;&#x4FE1;&#x4E2D;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x89C6;&#x4E3A;&#x666E;&#x901A;&#x5206;&#x5305;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x5177;&#x5907;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x7684;&#x7279;&#x6027;&#x3002;</p>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;&#x5728;&#x517C;&#x5BB9;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x4E3B;&#x5305;&#x4E2D;&#x7684; <code>app.wxss</code> &#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x4E2D;&#x7684;&#x9875;&#x9762;&#x4EA7;&#x751F;&#x5F71;&#x54CD;&#xFF0C;&#x56E0;&#x6B64;&#x5E94;&#x907F;&#x514D;&#x5728;&#x72EC;&#x7ACB;&#x5206;&#x5305;&#x9875;&#x9762;&#x4E2D;&#x4F7F;&#x7528; <code>app.wxss</code> &#x4E2D;&#x7684;&#x6837;&#x5F0F;&#x3002;</strong></p>

                            </section>
                        </div>
                        
                    </div>
                
</body>
</html>

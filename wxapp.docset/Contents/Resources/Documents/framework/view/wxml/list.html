<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>列表渲染</title>
  <link rel="stylesheet" href="../../../../style.css" />
  <link rel="stylesheet" href="../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                    <div id="book-search-results">
                        <div class="search-noresults">
                            <section class="normal markdown-section">
                              <h1 id="&#x5217;&#x8868;&#x6E32;&#x67D3;">&#x5217;&#x8868;&#x6E32;&#x67D3;</h1>
<h3 id="wxfor">wx:for</h3>
<p>&#x5728;&#x7EC4;&#x4EF6;&#x4E0A;&#x4F7F;&#x7528; <code>wx:for</code> &#x63A7;&#x5236;&#x5C5E;&#x6027;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x4E2D;&#x5404;&#x9879;&#x7684;&#x6570;&#x636E;&#x91CD;&#x590D;&#x6E32;&#x67D3;&#x8BE5;&#x7EC4;&#x4EF6;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x6570;&#x7EC4;&#x7684;&#x5F53;&#x524D;&#x9879;&#x7684;&#x4E0B;&#x6807;&#x53D8;&#x91CF;&#x540D;&#x9ED8;&#x8BA4;&#x4E3A; <code>index</code>&#xFF0C;&#x6570;&#x7EC4;&#x5F53;&#x524D;&#x9879;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x9ED8;&#x8BA4;&#x4E3A; <code>item</code></p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{array}}&quot;</span>&gt;</span> {{index}}: {{item.message}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="language-js">Page({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">array</span>: [{
      <span class="hljs-attr">message</span>: <span class="hljs-string">&apos;foo&apos;</span>,
    }, {
      <span class="hljs-attr">message</span>: <span class="hljs-string">&apos;bar&apos;</span>
    }]
  }
})
</code></pre>
<p>&#x4F7F;&#x7528; <code>wx:for-item</code> &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6570;&#x7EC4;&#x5F53;&#x524D;&#x5143;&#x7D20;&#x7684;&#x53D8;&#x91CF;&#x540D;&#xFF0C;</p>
<p>&#x4F7F;&#x7528; <code>wx:for-index</code> &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6570;&#x7EC4;&#x5F53;&#x524D;&#x4E0B;&#x6807;&#x7684;&#x53D8;&#x91CF;&#x540D;&#xFF1A;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{array}}&quot;</span> <span class="hljs-attr">wx:for-index</span>=<span class="hljs-string">&quot;idx&quot;</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">&quot;itemName&quot;</span>&gt;</span>
  {{idx}}: {{itemName.message}}
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p><code>wx:for</code> &#x4E5F;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x4E00;&#x4E2A;&#x4E5D;&#x4E5D;&#x4E58;&#x6CD5;&#x8868;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}&quot;</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}&quot;</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">&quot;j&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;{{i &lt;= j}}&quot;</span>&gt;</span> {{i}} * {{j}} = {{i * j}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<h3 id="block-wxfor">block wx:for</h3>
<p>&#x7C7B;&#x4F3C; <code>block wx:if</code>&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06; <code>wx:for</code> &#x7528;&#x5728;<code>&lt;block/&gt;</code>&#x6807;&#x7B7E;&#x4E0A;&#xFF0C;&#x4EE5;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x591A;&#x8282;&#x70B9;&#x7684;&#x7ED3;&#x6784;&#x5757;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[1, 2, 3]}}&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{index}}: <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
</code></pre>
<h3 id="wxkey">wx:key</h3>
<p>&#x5982;&#x679C;&#x5217;&#x8868;&#x4E2D;&#x9879;&#x76EE;&#x7684;&#x4F4D;&#x7F6E;&#x4F1A;&#x52A8;&#x6001;&#x6539;&#x53D8;&#x6216;&#x8005;&#x6709;&#x65B0;&#x7684;&#x9879;&#x76EE;&#x6DFB;&#x52A0;&#x5230;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x5E0C;&#x671B;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x9879;&#x76EE;&#x4FDD;&#x6301;&#x81EA;&#x5DF1;&#x7684;&#x7279;&#x5F81;&#x548C;&#x72B6;&#x6001;&#xFF08;&#x5982; <a href="../../../component/input.html"><code>&lt;input&gt;</code></a> &#x4E2D;&#x7684;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#xFF0C;<a href="../../../component/switch.html"><code>&lt;switch&gt;</code></a> &#x7684;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF09;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; <code>wx:key</code> &#x6765;&#x6307;&#x5B9A;&#x5217;&#x8868;&#x4E2D;&#x9879;&#x76EE;&#x7684;&#x552F;&#x4E00;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x3002;</p>
<p><code>wx:key</code> &#x7684;&#x503C;&#x4EE5;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x63D0;&#x4F9B;</p>
<ol>
<li>&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4EE3;&#x8868;&#x5728; for &#x5FAA;&#x73AF;&#x7684; array &#x4E2D; item &#x7684;&#x67D0;&#x4E2A; property&#xFF0C;&#x8BE5; property &#x7684;&#x503C;&#x9700;&#x8981;&#x662F;&#x5217;&#x8868;&#x4E2D;&#x552F;&#x4E00;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x6570;&#x5B57;&#xFF0C;&#x4E14;&#x4E0D;&#x80FD;&#x52A8;&#x6001;&#x6539;&#x53D8;&#x3002;</li>
<li>&#x4FDD;&#x7559;&#x5173;&#x952E;&#x5B57; <code>*this</code> &#x4EE3;&#x8868;&#x5728; for &#x5FAA;&#x73AF;&#x4E2D;&#x7684; item &#x672C;&#x8EAB;&#xFF0C;&#x8FD9;&#x79CD;&#x8868;&#x793A;&#x9700;&#x8981; item &#x672C;&#x8EAB;&#x662F;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x6570;&#x5B57;&#xFF0C;&#x5982;&#xFF1A;</li>
</ol>
<p>&#x5F53;&#x6570;&#x636E;&#x6539;&#x53D8;&#x89E6;&#x53D1;&#x6E32;&#x67D3;&#x5C42;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x6821;&#x6B63;&#x5E26;&#x6709; key &#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x6846;&#x67B6;&#x4F1A;&#x786E;&#x4FDD;&#x4ED6;&#x4EEC;&#x88AB;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x4F7F;&#x7EC4;&#x4EF6;&#x4FDD;&#x6301;&#x81EA;&#x8EAB;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x4E14;&#x63D0;&#x9AD8;&#x5217;&#x8868;&#x6E32;&#x67D3;&#x65F6;&#x7684;&#x6548;&#x7387;&#x3002;</p>
<p><strong>&#x5982;&#x4E0D;&#x63D0;&#x4F9B; <code>wx:key</code>&#xFF0C;&#x4F1A;&#x62A5;&#x4E00;&#x4E2A; <code>warning</code>&#xFF0C; &#x5982;&#x679C;&#x660E;&#x786E;&#x77E5;&#x9053;&#x8BE5;&#x5217;&#x8868;&#x662F;&#x9759;&#x6001;&#xFF0C;&#x6216;&#x8005;&#x4E0D;&#x5FC5;&#x5173;&#x6CE8;&#x5176;&#x987A;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5FFD;&#x7565;&#x3002;</strong></p>
<p><strong>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;</strong></p>
<p><a href="https://developers.weixin.qq.com/s/tpg5tKmv6kZt" title="&#x5728;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#x9884;&#x89C8;&#x6548;&#x679C;" target="_blank">&#x5728;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#x9884;&#x89C8;&#x6548;&#x679C;</a></p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{objectArray}}&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;unique&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: block;&quot;</span>&gt;</span>
  {{item.id}}
<span class="hljs-tag">&lt;/<span class="hljs-name">switch</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span>Switch<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;addToFront&quot;</span>&gt;</span>Add to the front<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">switch</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{numberArray}}&quot;</span> <span class="hljs-attr">wx:key</span>=<span class="hljs-string">&quot;*this&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: block;&quot;</span>&gt;</span>
  {{item}}
<span class="hljs-tag">&lt;/<span class="hljs-name">switch</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;addNumberToFront&quot;</span>&gt;</span>Add to the front<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<pre><code class="language-js">Page({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">objectArray</span>: [
      {<span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_5&apos;</span>},
      {<span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_4&apos;</span>},
      {<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_3&apos;</span>},
      {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_2&apos;</span>},
      {<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_1&apos;</span>},
      {<span class="hljs-attr">id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_0&apos;</span>},
    ],
    <span class="hljs-attr">numberArray</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
  },
  <span class="hljs-keyword">switch</span>(e) {
    <span class="hljs-keyword">const</span> length = <span class="hljs-keyword">this</span>.data.objectArray.length
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; length; ++i) {
      <span class="hljs-keyword">const</span> x = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * length)
      <span class="hljs-keyword">const</span> y = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * length)
      <span class="hljs-keyword">const</span> temp = <span class="hljs-keyword">this</span>.data.objectArray[x]
      <span class="hljs-keyword">this</span>.data.objectArray[x] = <span class="hljs-keyword">this</span>.data.objectArray[y]
      <span class="hljs-keyword">this</span>.data.objectArray[y] = temp
    }
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-attr">objectArray</span>: <span class="hljs-keyword">this</span>.data.objectArray
    })
  },
  addToFront(e) {
    <span class="hljs-keyword">const</span> length = <span class="hljs-keyword">this</span>.data.objectArray.length
    <span class="hljs-keyword">this</span>.data.objectArray = [{<span class="hljs-attr">id</span>: length, <span class="hljs-attr">unique</span>: <span class="hljs-string">&apos;unique_&apos;</span> + length}].concat(<span class="hljs-keyword">this</span>.data.objectArray)
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-attr">objectArray</span>: <span class="hljs-keyword">this</span>.data.objectArray
    })
  },
  addNumberToFront(e) {
    <span class="hljs-keyword">this</span>.data.numberArray = [<span class="hljs-keyword">this</span>.data.numberArray.length + <span class="hljs-number">1</span>].concat(<span class="hljs-keyword">this</span>.data.numberArray)
    <span class="hljs-keyword">this</span>.setData({
      <span class="hljs-attr">numberArray</span>: <span class="hljs-keyword">this</span>.data.numberArray
    })
  }
})
</code></pre>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong></p>
<p>&#x5F53; <code>wx:for</code> &#x7684;&#x503C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;array&quot;</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p>&#x7B49;&#x540C;&#x4E8E;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[&apos;a&apos;,&apos;r&apos;,&apos;r&apos;,&apos;a&apos;,&apos;y&apos;]}}&quot;</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong> &#x82B1;&#x62EC;&#x53F7;&#x548C;&#x5F15;&#x53F7;&#x4E4B;&#x95F4;&#x5982;&#x679C;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x5C06;&#x6700;&#x7EC8;&#x88AB;&#x89E3;&#x6790;&#x6210;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[1,2,3]}} &quot;</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p>&#x7B49;&#x540C;&#x4E8E;</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;{{[1,2,3] + &apos; &apos;}}&quot;</span>&gt;</span> {{item}} <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>

                            </section>
                        </div>
                        
                    </div>
                
</body>
</html>

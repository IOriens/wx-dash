<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Animation</title>
  <link rel="stylesheet" href="../../../../../../../style.css" />
  <link rel="stylesheet" href="../../../../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="Animation"><a href="#Animation" aria-hidden="true" class="header-anchor">#</a> Animation</h1> <p>动画对象</p> <h2 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h2> <h3 id="Object-Animation-export"><a href="#Object-Animation-export" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.export.html">Object Animation.export()</a></h3> <p>导出动画队列。<strong>export 方法每次调用后会清掉之前的动画操作。</strong></p> <h3 id="Animation-Animation-step-Object-object"><a href="#Animation-Animation-step-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.step.html">Animation Animation.step(Object object)</a></h3> <p>表示一组动画完成。可以在一组动画中调用任意多个动画方法，一组动画中的所有动画会同时开始，一组动画完成后才会进行下一组动画。</p> <h3 id="Animation-Animation-matrix"><a href="#Animation-Animation-matrix" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.matrix.html">Animation Animation.matrix()</a></h3> <p>同 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix" target="_blank" rel="noopener noreferrer">transform-function matrix<span></span></a></p> <h3 id="Animation-Animation-matrix3d"><a href="#Animation-Animation-matrix3d" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.matrix3d.html">Animation Animation.matrix3d()</a></h3> <p>同 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d" target="_blank" rel="noopener noreferrer">transform-function matrix3d<span></span></a></p> <h3 id="Animation-Animation-rotate-number-angle"><a href="#Animation-Animation-rotate-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.rotate.html">Animation Animation.rotate(number angle)</a></h3> <p>从原点顺时针旋转一个角度</p> <h3 id="Animation-Animation-rotate3d-number-x-number-y-number-z-number-angle"><a href="#Animation-Animation-rotate3d-number-x-number-y-number-z-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.rotate3d.html">Animation Animation.rotate3d(number x, number y, number z, number angle)</a></h3> <p>从 固定 轴顺时针旋转一个角度</p> <h3 id="Animation-Animation-rotateX-number-angle"><a href="#Animation-Animation-rotateX-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.rotateX.html">Animation Animation.rotateX(number angle)</a></h3> <p>从 X 轴顺时针旋转一个角度</p> <h3 id="Animation-Animation-rotateY-number-angle"><a href="#Animation-Animation-rotateY-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.rotateY.html">Animation Animation.rotateY(number angle)</a></h3> <p>从 Y 轴顺时针旋转一个角度</p> <h3 id="Animation-Animation-rotateZ-number-angle"><a href="#Animation-Animation-rotateZ-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.rotateZ.html">Animation Animation.rotateZ(number angle)</a></h3> <p>从 Z 轴顺时针旋转一个角度</p> <h3 id="Animation-Animation-scale-number-sx-number-sy"><a href="#Animation-Animation-scale-number-sx-number-sy" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.scale.html">Animation Animation.scale(number sx, number sy)</a></h3> <p>缩放</p> <h3 id="Animation-Animation-scale3d-number-sx-number-sy-number-sz"><a href="#Animation-Animation-scale3d-number-sx-number-sy-number-sz" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.scale3d.html">Animation Animation.scale3d(number sx, number sy, number sz)</a></h3> <p>缩放</p> <h3 id="Animation-Animation-scaleX-number-scale"><a href="#Animation-Animation-scaleX-number-scale" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.scaleX.html">Animation Animation.scaleX(number scale)</a></h3> <p>缩放 X 轴</p> <h3 id="Animation-Animation-scaleY-number-scale"><a href="#Animation-Animation-scaleY-number-scale" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.scaleY.html">Animation Animation.scaleY(number scale)</a></h3> <p>缩放 Y 轴</p> <h3 id="Animation-Animation-scaleZ-number-scale"><a href="#Animation-Animation-scaleZ-number-scale" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.scaleZ.html">Animation Animation.scaleZ(number scale)</a></h3> <p>缩放 Z 轴</p> <h3 id="Animation-Animation-skew-number-ax-number-ay"><a href="#Animation-Animation-skew-number-ax-number-ay" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.skew.html">Animation Animation.skew(number ax, number ay)</a></h3> <p>对 X、Y 轴坐标进行倾斜</p> <h3 id="Animation-Animation-skewX-number-angle"><a href="#Animation-Animation-skewX-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.skewX.html">Animation Animation.skewX(number angle)</a></h3> <p>对 X 轴坐标进行倾斜</p> <h3 id="Animation-Animation-skewY-number-angle"><a href="#Animation-Animation-skewY-number-angle" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.skewY.html">Animation Animation.skewY(number angle)</a></h3> <p>对 Y 轴坐标进行倾斜</p> <h3 id="Animation-Animation-translate-number-tx-number-ty"><a href="#Animation-Animation-translate-number-tx-number-ty" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.translate.html">Animation Animation.translate(number tx, number ty)</a></h3> <p>平移变换</p> <h3 id="Animation-Animation-translate3d-number-tx-number-ty-number-tz"><a href="#Animation-Animation-translate3d-number-tx-number-ty-number-tz" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.translate3d.html">Animation Animation.translate3d(number tx, number ty, number tz)</a></h3> <p>对 xyz 坐标进行平移变换</p> <h3 id="Animation-Animation-translateX-number-translation"><a href="#Animation-Animation-translateX-number-translation" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.translateX.html">Animation Animation.translateX(number translation)</a></h3> <p>对 X 轴平移</p> <h3 id="Animation-Animation-translateY-number-translation"><a href="#Animation-Animation-translateY-number-translation" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.translateY.html">Animation Animation.translateY(number translation)</a></h3> <p>对 Y 轴平移</p> <h3 id="Animation-Animation-translateZ-number-translation"><a href="#Animation-Animation-translateZ-number-translation" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.translateZ.html">Animation Animation.translateZ(number translation)</a></h3> <p>对 Z 轴平移</p> <h3 id="Animation-Animation-opacity-number-value"><a href="#Animation-Animation-opacity-number-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.opacity.html">Animation Animation.opacity(number value)</a></h3> <p>设置透明度</p> <h3 id="Animation-Animation-backgroundColor-string-value"><a href="#Animation-Animation-backgroundColor-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.backgroundColor.html">Animation Animation.backgroundColor(string value)</a></h3> <p>设置背景色</p> <h3 id="Animation-Animation-width-number-string-value"><a href="#Animation-Animation-width-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.width.html">Animation Animation.width(number|string value)</a></h3> <p>设置宽度</p> <h3 id="Animation-Animation-height-number-string-value"><a href="#Animation-Animation-height-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.height.html">Animation Animation.height(number|string value)</a></h3> <p>设置高度</p> <h3 id="Animation-Animation-left-number-string-value"><a href="#Animation-Animation-left-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.left.html">Animation Animation.left(number|string value)</a></h3> <p>设置 left 值</p> <h3 id="Animation-Animation-right-number-string-value"><a href="#Animation-Animation-right-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.right.html">Animation Animation.right(number|string value)</a></h3> <p>设置 right 值</p> <h3 id="Animation-Animation-top-number-string-value"><a href="#Animation-Animation-top-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.top.html">Animation Animation.top(number|string value)</a></h3> <p>设置 top 值</p> <h3 id="Animation-Animation-bottom-number-string-value"><a href="#Animation-Animation-bottom-number-string-value" aria-hidden="true" class="header-anchor">#</a> <a href="Animation.bottom.html">Animation Animation.bottom(number|string value)</a></h3> <p>设置 bottom 值</p> <h2 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h2> <p><a href="https://developers.weixin.qq.com/s/Swab8kmW7v2V" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{animationData}}<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>100rpx<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>100rpx</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    animationData<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onShow</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> animation <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      duration<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      timingFunction<span class="token punctuation">:</span> <span class="token string">'ease'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>animation <span class="token operator">=</span> animation

    animation<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      animationData<span class="token punctuation">:</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      animation<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        animationData<span class="token punctuation">:</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">rotateAndScale</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 旋转同时放大</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      animationData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">rotateThenScale</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先旋转后放大</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      animationData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">rotateAndScaleThenTranslate</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先旋转同时放大，然后平移</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">{</span> duration<span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      animationData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animation<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <!---->    
</body>
</html>

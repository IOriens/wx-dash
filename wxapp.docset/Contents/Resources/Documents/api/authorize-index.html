<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>授权</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="授权">授权</h1>
<p>部分接口需要获得用户授权同意后才能调用。此类接口调用时：</p>
<ul>
<li>如果用户未接受或拒绝过此权限，会弹窗询问用户，用户点击同意后方可调用接口；</li>
<li>如果用户已授权，可以直接调用接口；</li>
<li>如果用户已拒绝授权，则短期内不会出现弹窗，而是直接进入接口 fail 回调。<strong>请开发者兼容用户拒绝授权的场景。</strong></li>
</ul>
<h2 id="获取授权信息">获取授权信息</h2>
<p>开发者可以使用 <a href="setting.html#wxgetsettingobject"><code>wx.getSetting</code></a> 获取用户当前的授权状态。</p>
<h2 id="打开设置界面">打开设置界面</h2>
<p>用户可以在小程序设置界面（右上角 - 关于 - 右上角 - 设置）中控制对该小程序的授权状态。</p>
<p>开发者可以调用 <a href="setting.html#wxopensettingobject"><code>wx.openSetting</code></a> 打开设置界面，引导用户开启授权。</p>
<h2 id="提前发起授权请求">提前发起授权请求</h2>
<p>开发者可以使用 <a href="authorize.html#wxauthorizeobject"><code>wx.authorize</code></a> 在调用需授权 API 之前，提前向用户发起授权请求。</p>
<h2 id="scope-列表">scope 列表</h2>
<table>
<thead>
<tr>
<th>scope</th>
<th>对应接口</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>scope.userInfo</td>
<td>wx.getUserInfo</td>
<td>用户信息</td>
</tr>
<tr>
<td>scope.userLocation</td>
<td>wx.getLocation, wx.chooseLocation</td>
<td>地理位置</td>
</tr>
<tr>
<td>scope.address</td>
<td>wx.chooseAddress</td>
<td>通讯地址</td>
</tr>
<tr>
<td>scope.invoiceTitle</td>
<td>wx.chooseInvoiceTitle</td>
<td>发票抬头</td>
</tr>
<tr>
<td>scope.werun</td>
<td>wx.getWeRunData</td>
<td>微信运动步数</td>
</tr>
<tr>
<td>scope.record</td>
<td>wx.startRecord</td>
<td>录音功能</td>
</tr>
<tr>
<td>scope.writePhotosAlbum</td>
<td>wx.saveImageToPhotosAlbum, wx.saveVideoToPhotosAlbum</td>
<td>保存到相册</td>
</tr>
<tr>
<td>scope.camera</td>
<td><camera></camera></td>
<td>摄像头</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

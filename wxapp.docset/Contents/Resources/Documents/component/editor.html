<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <title>editor</title>
  <link rel="stylesheet" href="../../../../../style.css">
  <link rel="stylesheet" href="../../../../../website.css">
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="editor"><a href="#editor" aria-hidden="true" class="header-anchor">#</a> editor</h1> <blockquote><p>基础库 2.7.0 开始支持，低版本需做<a href="../framework/compatibility.html">兼容处理</a>。</p></blockquote> <p>富文本编辑器，可以对图片、文字进行编辑。</p> <p>编辑器导出内容支持带标签的 <code>html</code>和纯文本的 <code>text</code>，编辑器内部采用 <code>delta</code> 格式进行存储。</p> <p>通过<code>setContents</code>接口设置内容时，解析插入的 <code>html</code> 可能会由于一些非法标签导致解析错误，建议开发者在小程序内使用时通过 delta 进行插入。</p> <p>富文本组件内部引入了一些基本的样式使得内容可以正确的展示，开发时可以进行覆盖。需要注意的是，在其它组件或环境中使用富文本组件导出的html时，需要额外引入 <a href="data:application/zip;base64,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">这段样式</a>，并维护<code>&lt;ql-container&gt;&lt;ql-editor&gt;&lt;/ql-editor&gt;&lt;/ql-container&gt;</code>的结构。</p> <p>图片控件仅初始化时设置有效。</p> <p>相关 api：<a href="../api/media/editor/EditorContext.html">EditorContext</a></p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>read-only</td> <td>boolean</td> <td>false</td> <td>否</td> <td>设置编辑器为只读</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>placeholder</td> <td>string</td> <td></td> <td>否</td> <td>提示信息</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>show-img-size</td> <td>boolean</td> <td>false</td> <td>否</td> <td>点击图片时显示图片大小控件</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>show-img-toolbar</td> <td>boolean</td> <td>false</td> <td>否</td> <td>点击图片时显示工具栏控件</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>show-img-resize</td> <td>boolean</td> <td>false</td> <td>否</td> <td>点击图片时显示修改尺寸控件</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>bindready</td> <td>eventhandle</td> <td></td> <td>否</td> <td>编辑器初始化完成时触发</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>bindfocus</td> <td>eventhandle</td> <td></td> <td>否</td> <td>编辑器聚焦时触发，event.detail = {html, text, delta}</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>bindblur</td> <td>eventhandle</td> <td></td> <td>否</td> <td>编辑器失去焦点时触发，detail = {html, text, delta}</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>bindinput</td> <td>eventhandle</td> <td></td> <td>否</td> <td>编辑器内容改变时触发，detail = {html, text, delta}</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr> <tr><td>bindstatuschange</td> <td>eventhandle</td> <td></td> <td>否</td> <td>通过 Context 方法改变编辑器内样式时触发，返回选区已设置的样式</td> <td><a href="../framework/compatibility.html">2.7.0</a></td></tr></tbody></table></div><p>编辑器内支持部分 HTML 标签和内联样式，不支持<strong>class</strong>和<strong>id</strong></p> <h3 id="支持的标签"><a href="#支持的标签" aria-hidden="true" class="header-anchor">#</a> 支持的标签</h3> <p>不满足的标签会被忽略，<code>&lt;div&gt;</code>会被转行为<code>&lt;p&gt;</code>储存。</p> <div class="table-wrp"><table><thead><tr><th>类型</th> <th>节点</th></tr></thead> <tbody><tr><td>行内元素</td> <td><code>&lt;span&gt; &lt;strong&gt; &lt;b&gt; &lt;ins&gt; &lt;em&gt; &lt;i&gt; &lt;u&gt; &lt;a&gt; &lt;del&gt; &lt;s&gt; &lt;sub&gt; &lt;sup&gt; &lt;img&gt;</code></td></tr> <tr><td>块级元素</td> <td><code>&lt;p&gt; &lt;h1&gt; &lt;h2&gt; &lt;h3&gt; &lt;h4&gt; &lt;h5&gt; &lt;h6&gt; &lt;hr&gt; &lt;ol&gt; &lt;ul&gt; &lt;li&gt;</code></td></tr></tbody></table></div><h3 id="支持的内联样式"><a href="#支持的内联样式" aria-hidden="true" class="header-anchor">#</a> 支持的内联样式</h3> <p>内联样式仅能设置在行内元素或块级元素上，不能同时设置。例如 <code>font-size</code> 归类为行内元素属性，在 p 标签上设置是无效的。</p> <div class="table-wrp"><table><thead><tr><th>类型</th> <th>样式</th></tr></thead> <tbody><tr><td>块级样式</td> <td><code>text-align</code> <code>direction</code> <code>margin</code> <code>margin-top</code> <code>margin-left</code> <code>margin-right</code> <code>margin-bottom</code> <br> <code>padding</code> <code>padding-top</code> <code>padding-left</code> <code>padding-right</code> <code>padding-bottom</code> <code>line-height</code> <code>text-indent</code></td></tr> <tr><td>行内样式</td> <td><code>font</code> <code>font-size</code> <code>font-style</code> <code>font-variant</code> <code>font-weight</code> <code>font-family</code> <br> <code>letter-spacing</code> <code>text-decoration</code> <code>color</code> <code>background-color</code></td></tr></tbody></table></div><h2 id="Bug-Tip"><a href="#Bug-Tip" aria-hidden="true" class="header-anchor">#</a> Bug &amp; Tip</h2> <ol><li><code>tip</code>: 使用 catchtouchend 绑定事件则不会使编辑器失去焦点(2.8.3)</li> <li><code>tip</code>: 插入的 html 中事件绑定会被移除</li> <li><code>tip</code>: formats 中的  color 属性会统一以 hex 格式返回</li> <li><code>tip</code>: 粘贴时仅纯文本内容会被拷贝进编辑器</li> <li><code>tip</code>: 插入 html 到编辑器内时，编辑器会删除一些不必要的标签，以保证内容的统一。例如<code>&lt;p&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;/p&gt;</code>会改写为<code>&lt;p&gt;xxx&lt;/p&gt;</code></li> <li><code>tip</code>: 编辑器聚焦时页面会被上推，系统行为以保证编辑区可见</li></ol> <h2 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h2> <p><a href="https://developers.weixin.qq.com/s/W7uZ3EmU7jbl" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p></div></div> <!---->    


</body></html>
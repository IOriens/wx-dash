<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>插件管理</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="插件管理">插件管理</h1>
<p>小程序开发者可通过以下接口管理插件，包括：添加、删除、查询已添加的插件。插件开发者也可调用接口管理插件使用申请。</p>
<h2 id="1申请使用插件">1.申请使用插件</h2>
<p>此接口用于小程序向插件开发者发起使用插件的申请。</p>
<p><strong>请求方式: POST（请使用https协议）</strong> </p>
<p><a href="https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN" target="_blank">https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN</a></p>
<p>POST数据示例</p>
<pre><code class="lang-json">{
  <span class="hljs-string">"action"</span>:<span class="hljs-string">"apply"</span>,
  <span class="hljs-string">"plugin_appid"</span>:<span class="hljs-string">"aaaa"</span>,
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>填写apply</td>
</tr>
<tr>
<td>plugin_appid</td>
<td>插件appid</td>
</tr>
</tbody>
</table>
<p><strong>返回说明</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>:<span class="hljs-string">"ok"</span>,
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>errcode</td>
<td>错误码</td>
</tr>
<tr>
<td>errmsg</td>
<td>错误信息</td>
</tr>
</tbody>
</table>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>成功</td>
</tr>
<tr>
<td>-1</td>
<td>系统错误</td>
</tr>
<tr>
<td>89236</td>
<td>该插件不能申请</td>
</tr>
<tr>
<td>89237</td>
<td>已经添加该插件</td>
</tr>
<tr>
<td>89238</td>
<td>申请或使用的插件已经达到上限</td>
</tr>
<tr>
<td>89239</td>
<td>该插件不存在</td>
</tr>
</tbody>
</table>
<h2 id="2查询已添加的插件">2.查询已添加的插件</h2>
<p><strong>请求方式: POST（请使用https协议）</strong></p>
<p><a href="https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN" target="_blank">https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN</a></p>
<p>POST数据示例：</p>
<pre><code class="lang-json">{
  <span class="hljs-string">"action"</span>:<span class="hljs-string">"list"</span>,
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>填写list</td>
</tr>
</tbody>
</table>
<p><strong>返回说明（正常时返回的json示例）</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>:<span class="hljs-string">"ok"</span>,
  <span class="hljs-string">"plugin_list"</span>:[
  <span class="hljs-string">"appid"</span>:<span class="hljs-string">"aaaa"</span>,
  <span class="hljs-string">"status"</span>:<span class="hljs-number">1</span>,
  <span class="hljs-string">"nickname"</span>:<span class="hljs-string">"插件昵称"</span>,
  <span class="hljs-string">"headimgurl"</span>:<span class="hljs-string">"http://plugin.qq.com"</span>,
  ],
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>errcode</td>
<td>错误码</td>
</tr>
<tr>
<td>errmsg</td>
<td>错误信息</td>
</tr>
<tr>
<td>plugin_list</td>
<td>申请或使用中的插件列表</td>
</tr>
<tr>
<td>appid</td>
<td>插件appid</td>
</tr>
<tr>
<td>status</td>
<td>插件状态（1：申请中，2：申请通过，3：已拒绝，4：已超时）</td>
</tr>
<tr>
<td>nickname</td>
<td>插件昵称</td>
</tr>
<tr>
<td>headimgurl</td>
<td>插件头像</td>
</tr>
</tbody>
</table>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>成功</td>
</tr>
<tr>
<td>-1</td>
<td>系统错误</td>
</tr>
<tr>
<td>89243</td>
<td>“待确认”的申请不可删除</td>
</tr>
<tr>
<td>89044</td>
<td>不存在该插件appid</td>
</tr>
</tbody>
</table>
<h2 id="3删除已添加的插件">3.删除已添加的插件</h2>
<p><strong>请求方式: POST（请使用https协议）</strong></p>
<p><a href="https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN" target="_blank">https://api.weixin.qq.com/wxa/plugin?access_token=TOKEN</a></p>
<p><strong>POST数据示例</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"action"</span>:<span class="hljs-string">"unbind"</span>
  <span class="hljs-string">"plugin_appid"</span>:<span class="hljs-string">"aaaa"</span>
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>填写list</td>
</tr>
<tr>
<td>plugin_appid</td>
<td>插件appid</td>
</tr>
</tbody>
</table>
<p><strong>返回说明（正常时返回的json示例）</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>:<span class="hljs-string">"ok"</span>,
}
</code></pre>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>成功</td>
</tr>
<tr>
<td>-1</td>
<td>系统错误</td>
</tr>
</tbody>
</table>
<h2 id="4获取当前所有插件使用方（供插件开发者调用）">4.获取当前所有插件使用方（供插件开发者调用）</h2>
<p><strong>请求方式: POST（请使用https协议）</strong></p>
<p><a href="https://api.weixin.qq.com/wxa/devplugin?access_token=TOKEN" target="_blank">https://api.weixin.qq.com/wxa/devplugin?access_token=TOKEN</a></p>
<p><strong>POST数据示例</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"action"</span>:<span class="hljs-string">"dev_apply_list"</span>
  <span class="hljs-string">"page"</span>:<span class="hljs-number">1</span>
  <span class="hljs-string">"num"</span>:<span class="hljs-number">10</span>
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>填写dev_apply_list</td>
</tr>
<tr>
<td>page, num</td>
<td>page  page和num用于分页，表示每页num条记录，拉取第page页的数据。</td>
</tr>
</tbody>
</table>
<p><strong>返回说明（正常时返回的json示例）</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>:<span class="hljs-string">"ok"</span>,
  <span class="hljs-string">"apply_list"</span>:[
  <span class="hljs-string">"appid"</span>:<span class="hljs-string">"aaaa"</span>,
  <span class="hljs-string">"status"</span>:<span class="hljs-number">1</span>,
  <span class="hljs-string">"nickname"</span>:<span class="hljs-string">"小程序昵称"</span>,
  <span class="hljs-string">"headimgurl"</span>:<span class="hljs-string">"http://weixin.qq.com"</span>,
  ],
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>apply_list</td>
<td>申请或使用中的插件列表</td>
</tr>
<tr>
<td>appid</td>
<td>使用者的appid</td>
</tr>
<tr>
<td>status</td>
<td>插件状态（1：申请中，2：申请通过，3：拒绝；4.已超时）</td>
</tr>
<tr>
<td>nickname</td>
<td>使用者的昵称</td>
</tr>
<tr>
<td>headimgurl</td>
<td>使用者的昵称</td>
</tr>
</tbody>
</table>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>成功</td>
</tr>
<tr>
<td>-1</td>
<td>系统错误</td>
</tr>
</tbody>
</table>
<h2 id="5修改插件使用申请的状态（供插件开发者调用）">5.修改插件使用申请的状态（供插件开发者调用）</h2>
<p><strong>请求方式: POST（请使用https协议）</strong></p>
<p><a href="https://api.weixin.qq.com/wxa/devplugin?access_token=TOKEN" target="_blank">https://api.weixin.qq.com/wxa/devplugin?access_token=TOKEN</a></p>
<p><strong>POST数据示例</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"action"</span>:<span class="hljs-string">"dev_agree"</span>  （或dev_refuse、dev_delete）
}
</code></pre>
<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>dev_agree：同意申请；dev_refuse：拒绝申请；dev_delete：删除已拒绝的申请者</td>
</tr>
<tr>
<td>appid</td>
<td>使用者的appid</td>
</tr>
</tbody>
</table>
<p><strong>返回说明（正常时返回的json示例）</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">"errcode"</span>:<span class="hljs-number">0</span>,
  <span class="hljs-string">"errmsg"</span>:<span class="hljs-string">"ok"</span>,
}
</code></pre>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>成功</td>
</tr>
<tr>
<td>-1</td>
<td>系统错误</td>
</tr>
<tr>
<td>89240</td>
<td>无法进行此操作，只有“待确认”的申请可操作通过/拒绝</td>
</tr>
<tr>
<td>89241</td>
<td>无法进行此操作，只有“已拒绝/已超时”的申请可操作删除</td>
</tr>
<tr>
<td>89242</td>
<td>该appid不在申请列表内</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

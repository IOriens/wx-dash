<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <title>button</title>
  <link rel="stylesheet" href="../../../../../style.css">
  <link rel="stylesheet" href="../../../../../website.css">
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="button"><a href="#button" aria-hidden="true" class="header-anchor">#</a> button</h1> <blockquote><p>基础库 1.0.0 开始支持，低版本需做<a href="../framework/compatibility.html">兼容处理</a>。</p></blockquote> <p>按钮。</p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>size</td> <td>string</td> <td>default</td> <td>否</td> <td>按钮的大小</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>type</td> <td>string</td> <td>default</td> <td>否</td> <td>按钮的样式类型</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>plain</td> <td>boolean</td> <td>false</td> <td>否</td> <td>按钮是否镂空，背景色透明</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>disabled</td> <td>boolean</td> <td>false</td> <td>否</td> <td>是否禁用</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>loading</td> <td>boolean</td> <td>false</td> <td>否</td> <td>名称前是否带 loading 图标</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>form-type</td> <td>string</td> <td></td> <td>否</td> <td>用于 <a href="form.html">form</a> 组件，点击分别会触发 <a href="form.html">form</a> 组件的 submit/reset 事件</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>open-type</td> <td>string</td> <td></td> <td>否</td> <td>微信开放能力</td> <td><a href="../framework/compatibility.html">1.1.0</a></td></tr> <tr><td>hover-class</td> <td>string</td> <td>button-hover</td> <td>否</td> <td>指定按钮按下去的样式类。当 <code>hover-class="none"</code> 时，没有点击态效果</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>hover-stop-propagation</td> <td>boolean</td> <td>false</td> <td>否</td> <td>指定是否阻止本节点的祖先节点出现点击态</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>hover-start-time</td> <td>number</td> <td>20</td> <td>否</td> <td>按住后多久出现点击态，单位毫秒</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>hover-stay-time</td> <td>number</td> <td>70</td> <td>否</td> <td>手指松开后点击态保留时间，单位毫秒</td> <td><a href="../framework/compatibility.html">1.0.0</a></td></tr> <tr><td>lang</td> <td>string</td> <td>en</td> <td>否</td> <td>指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。</td> <td><a href="../framework/compatibility.html">1.3.0</a></td></tr> <tr><td>session-from</td> <td>string</td> <td></td> <td>否</td> <td>会话来源，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.4.0</a></td></tr> <tr><td>send-message-title</td> <td>string</td> <td>当前标题</td> <td>否</td> <td>会话内消息卡片标题，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>send-message-path</td> <td>string</td> <td>当前分享路径</td> <td>否</td> <td>会话内消息卡片点击跳转小程序路径，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>send-message-img</td> <td>string</td> <td>截图</td> <td>否</td> <td>会话内消息卡片图片，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>app-parameter</td> <td>string</td> <td></td> <td>否</td> <td>打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效</td> <td><a href="../framework/compatibility.html">1.9.5</a></td></tr> <tr><td>show-message-card</td> <td>boolean</td> <td>false</td> <td>否</td> <td>是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示"可能要发送的小程序"提示，用户点击后可以快速发送小程序消息，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>bindgetuserinfo</td> <td>eventhandle</td> <td></td> <td>否</td> <td>用户点击该按钮时，会返回获取到的用户信息，回调的detail数据与<a href="../api/open-api/user-info/wx.getUserInfo.html">wx.getUserInfo</a>返回的一致，open-type="getUserInfo"时有效</td> <td><a href="../framework/compatibility.html">1.3.0</a></td></tr> <tr><td>bindcontact</td> <td>eventhandle</td> <td></td> <td>否</td> <td>客服消息回调，open-type="contact"时有效</td> <td><a href="../framework/compatibility.html">1.5.0</a></td></tr> <tr><td>bindgetphonenumber</td> <td>eventhandle</td> <td></td> <td>否</td> <td>获取用户手机号回调，open-type=getPhoneNumber时有效</td> <td><a href="../framework/compatibility.html">1.2.0</a></td></tr> <tr><td>binderror</td> <td>eventhandle</td> <td></td> <td>否</td> <td>当使用开放能力时，发生错误的回调，open-type=launchApp时有效</td> <td><a href="../framework/compatibility.html">1.9.5</a></td></tr> <tr><td>bindopensetting</td> <td>eventhandle</td> <td></td> <td>否</td> <td>在打开授权设置页后回调，open-type=openSetting时有效</td> <td><a href="../framework/compatibility.html">2.0.7</a></td></tr> <tr><td>bindlaunchapp</td> <td>eventhandle</td> <td></td> <td>否</td> <td>打开 APP 成功的回调，open-type=launchApp时有效</td> <td><a href="../framework/compatibility.html">2.4.4</a></td></tr></tbody></table></div><p><strong>size 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>default</td> <td>默认大小</td> <td></td></tr> <tr><td>mini</td> <td>小尺寸</td> <td></td></tr></tbody></table></div><p><strong>type 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>primary</td> <td>绿色</td> <td></td></tr> <tr><td>default</td> <td>白色</td> <td></td></tr> <tr><td>warn</td> <td>红色</td> <td></td></tr></tbody></table></div><p><strong>form-type 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>submit</td> <td>提交表单</td> <td></td></tr> <tr><td>reset</td> <td>重置表单</td> <td></td></tr></tbody></table></div><p><strong>open-type 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>contact</td> <td>打开客服会话，如果用户在会话中点击消息卡片后返回小程序，可以从 bindcontact 回调中获得具体信息，<a href="../framework/open-ability/customer-message/customer-message.html">具体说明</a> （<em>小程序插件中不能使用</em>）</td> <td><a href="../framework/compatibility.html">1.1.0</a></td></tr> <tr><td>share</td> <td>触发用户转发，使用前建议先阅读<a href="../framework/open-ability/share.html#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%BC%95">使用指引</a></td> <td><a href="../framework/compatibility.html">1.2.0</a></td></tr> <tr><td>getPhoneNumber</td> <td>获取用户手机号，可以从bindgetphonenumber回调中获取到用户信息，<a href="../framework/open-ability/getPhoneNumber.html">具体说明</a> （<em>小程序插件中不能使用</em>）</td> <td><a href="../framework/compatibility.html">1.2.0</a></td></tr> <tr><td>getUserInfo</td> <td>获取用户信息，可以从bindgetuserinfo回调中获取到用户信息 （<em>小程序插件中不能使用</em>）</td> <td><a href="../framework/compatibility.html">1.3.0</a></td></tr> <tr><td>launchApp</td> <td>打开APP，可以通过app-parameter属性设定向APP传的参数<a href="../framework/open-ability/launchApp.html">具体说明</a></td> <td><a href="../framework/compatibility.html">1.9.5</a></td></tr> <tr><td>openSetting</td> <td>打开授权设置页</td> <td><a href="../framework/compatibility.html">2.0.7</a></td></tr> <tr><td>feedback</td> <td>打开“意见反馈”页面，用户可提交反馈内容并上传<a href="../api/base/debug/wx.getLogManager.html">日志</a>，开发者可以登录<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener noreferrer">小程序管理后台<span></span></a>后进入左侧菜单“客服反馈”页面获取到反馈内容</td> <td><a href="../framework/compatibility.html">2.1.0</a></td></tr></tbody></table></div><p><strong>lang 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>en</td> <td>英文</td> <td></td></tr> <tr><td>zh_CN</td> <td>简体中文</td> <td></td></tr> <tr><td>zh_TW</td> <td>繁体中文</td> <td></td></tr></tbody></table></div><h2 id="Bug-Tip"><a href="#Bug-Tip" aria-hidden="true" class="header-anchor">#</a> Bug &amp; Tip</h2> <ol><li><code>tip</code>: <code>button-hover</code> 默认为<code>{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}</code></li> <li><code>tip</code>: <code>bindgetphonenumber</code> 从1.2.0 开始支持，但是在1.5.3以下版本中无法使用<a href="../api/base/wx.canIUse.html">wx.canIUse</a>进行检测，建议使用基础库版本进行判断。</li> <li><code>tip</code>: 在<code>bindgetphonenumber</code> 等返回加密信息的回调中调用 <a href="../api/open-api/login/wx.login.html">wx.login</a> 登录，可能会刷新登录态。此时服务器使用 code 换取的 sessionKey 不是加密时使用的 sessionKey，导致解密失败。建议开发者提前进行 <code>login</code>；或者在回调中先使用 <code>checkSession</code> 进行登录态检查，避免 <code>login</code> 刷新登录态。</li> <li><code>tip</code>: 从 2.1.0 起，button 可作为原生组件的子节点嵌入，以便在原生组件上使用 <code>open-type</code> 的能力。</li> <li><code>tip</code>: 目前设置了 <code>form-type</code> 的 <code>button</code> 只会对当前组件中的 <code>form</code> 有效。因而，将 <code>button</code> 封装在自定义组件中，而 <code>form</code> 在自定义组件外，将会使这个 <code>button</code> 的 <code>form-type</code> 失效。</li></ol> <h2 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h2> <p><a href="https://developers.weixin.qq.com/s/ZHrWZqm66cZy" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p> <div class="wrap-mp-code"><iframe src="https://developers.weixin.qq.com/xcode/source/mp_button?tabs=index/index.js,index/index.wxml,index/index.wxss" type="text/html" height="669" width="100%" frameborder="0" class="wrap-mp-code-iframe"></iframe></div></div></div> <!---->    


</body></html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Component构造器</title>
  <link rel="stylesheet" href="../../style.css" />
  <link rel="stylesheet" href="../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="component&#x6784;&#x9020;&#x5668;">Component&#x6784;&#x9020;&#x5668;</h1>
<p>Component&#x6784;&#x9020;&#x5668;&#x53EF;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#xFF0C;&#x8C03;&#x7528;Component&#x6784;&#x9020;&#x5668;&#x65F6;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7EC4;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x3001;&#x6570;&#x636E;&#x3001;&#x65B9;&#x6CD5;&#x7B49;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x5B9A;&#x4E49;&#x6BB5;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x662F;&#x5426;&#x5FC5;&#x586B;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>properties</td>
<td>Object Map</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x7684;&#x5BF9;&#x5916;&#x5C5E;&#x6027;&#xFF0C;&#x662F;&#x5C5E;&#x6027;&#x540D;&#x5230;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x7684;&#x6620;&#x5C04;&#x8868;&#xFF0C;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E2D;&#x53EF;&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C; <code>type</code> &#x8868;&#x793A;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x3001; <code>value</code> &#x8868;&#x793A;&#x5C5E;&#x6027;&#x521D;&#x59CB;&#x503C;&#x3001; <code>observer</code> &#x8868;&#x793A;&#x5C5E;&#x6027;&#x503C;&#x88AB;&#x66F4;&#x6539;&#x65F6;&#x7684;&#x54CD;&#x5E94;&#x51FD;&#x6570;</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x7684;&#x5185;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x548C; <code>properties</code> &#x4E00;&#x540C;&#x7528;&#x4E8E;&#x7EC4;&#x4EF6;&#x7684;&#x6A21;&#x7248;&#x6E32;&#x67D3;</td>
</tr>
<tr>
<td>methods</td>
<td>Object</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#x51FD;&#x6570;&#x548C;&#x4EFB;&#x610F;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#xFF0C;&#x5173;&#x4E8E;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#x51FD;&#x6570;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x53C2;&#x89C1; <a href="events.html">&#x7EC4;&#x4EF6;&#x4E8B;&#x4EF6;</a></td>
</tr>
<tr>
<td>behaviors</td>
<td>String Array</td>
<td>&#x5426;</td>
<td>&#x7C7B;&#x4F3C;&#x4E8E;mixins&#x548C;traits&#x7684;&#x7EC4;&#x4EF6;&#x95F4;&#x4EE3;&#x7801;&#x590D;&#x7528;&#x673A;&#x5236;&#xFF0C;&#x53C2;&#x89C1; <a href="behaviors.html">behaviors</a></td>
</tr>
<tr>
<td>created</td>
<td>Function</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x8282;&#x70B9;&#x6811;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x6CE8;&#x610F;&#x6B64;&#x65F6;&#x4E0D;&#x80FD;&#x8C03;&#x7528; <code>setData</code></td>
</tr>
<tr>
<td>attached</td>
<td>Function</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x8282;&#x70B9;&#x6811;&#x65F6;&#x6267;&#x884C;</td>
</tr>
<tr>
<td>ready</td>
<td>Function</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EC4;&#x4EF6;&#x5E03;&#x5C40;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x8282;&#x70B9;&#x4FE1;&#x606F;&#xFF08;&#x4F7F;&#x7528; <a href="../../api/wxml-nodes-info.html">SelectorQuery</a> &#xFF09;</td>
</tr>
<tr>
<td>moved</td>
<td>Function</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x88AB;&#x79FB;&#x52A8;&#x5230;&#x8282;&#x70B9;&#x6811;&#x53E6;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x65F6;&#x6267;&#x884C;</td>
</tr>
<tr>
<td>detached</td>
<td>Function</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x88AB;&#x4ECE;&#x9875;&#x9762;&#x8282;&#x70B9;&#x6811;&#x79FB;&#x9664;&#x65F6;&#x6267;&#x884C;</td>
</tr>
<tr>
<td>relations</td>
<td>Object</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x95F4;&#x5173;&#x7CFB;&#x5B9A;&#x4E49;&#xFF0C;&#x53C2;&#x89C1; <a href="relations.html">&#x7EC4;&#x4EF6;&#x95F4;&#x5173;&#x7CFB;</a></td>
</tr>
<tr>
<td>externalClasses</td>
<td>String Array</td>
<td>&#x5426;</td>
<td>&#x7EC4;&#x4EF6;&#x63A5;&#x53D7;&#x7684;&#x5916;&#x90E8;&#x6837;&#x5F0F;&#x7C7B;&#xFF0C;&#x53C2;&#x89C1; <a href="wxml-wxss.html">&#x5916;&#x90E8;&#x6837;&#x5F0F;&#x7C7B;</a></td>
</tr>
<tr>
<td>options</td>
<td>Object Map</td>
<td>&#x5426;</td>
<td>&#x4E00;&#x4E9B;&#x7EC4;&#x4EF6;&#x9009;&#x9879;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x6587;&#x6863;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x8BF4;&#x660E;</td>
</tr>
</tbody>
</table>
<p>&#x751F;&#x6210;&#x7684;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x5728;&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x548C;&#x5C5E;&#x6027; <code>observer</code> &#x4E2D;&#x901A;&#x8FC7; <code>this</code> &#x8BBF;&#x95EE;&#x3002;&#x7EC4;&#x4EF6;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x901A;&#x7528;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;&#x540D;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>is</td>
<td>String</td>
<td>&#x7EC4;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>&#x8282;&#x70B9;id</td>
</tr>
<tr>
<td>dataset</td>
<td>String</td>
<td>&#x8282;&#x70B9;dataset</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>&#x7EC4;&#x4EF6;&#x6570;&#x636E;&#xFF0C;<strong>&#x5305;&#x62EC;&#x5185;&#x90E8;&#x6570;&#x636E;&#x548C;&#x5C5E;&#x6027;&#x503C;</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&#x65B9;&#x6CD5;&#x540D;</th>
<th>&#x53C2;&#x6570;</th>
<th>&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>setData</td>
<td>Object <code>newData</code></td>
<td>&#x8BBE;&#x7F6E;data&#x5E76;&#x6267;&#x884C;&#x89C6;&#x56FE;&#x5C42;&#x6E32;&#x67D3;</td>
</tr>
<tr>
<td>hasBehavior</td>
<td>Object <code>behavior</code></td>
<td>&#x68C0;&#x67E5;&#x7EC4;&#x4EF6;&#x662F;&#x5426;&#x5177;&#x6709; <code>behavior</code> &#xFF08;&#x68C0;&#x67E5;&#x65F6;&#x4F1A;&#x9012;&#x5F52;&#x68C0;&#x67E5;&#x88AB;&#x76F4;&#x63A5;&#x6216;&#x95F4;&#x63A5;&#x5F15;&#x5165;&#x7684;&#x6240;&#x6709;behavior&#xFF09;</td>
</tr>
<tr>
<td>triggerEvent</td>
<td>String <code>name</code>, Object <code>detail</code>, Object <code>options</code></td>
<td>&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x53C2;&#x89C1; <a href="events.html">&#x7EC4;&#x4EF6;&#x4E8B;&#x4EF6;</a></td>
</tr>
<tr>
<td>createSelectorQuery</td>
<td></td>
<td>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <a href="../../api/wxml-nodes-info.html">SelectorQuery</a> &#x5BF9;&#x8C61;&#xFF0C;&#x9009;&#x62E9;&#x5668;&#x9009;&#x53D6;&#x8303;&#x56F4;&#x4E3A;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x5185;</td>
</tr>
<tr>
<td>selectComponent</td>
<td>String <code>selector</code></td>
<td>&#x4F7F;&#x7528;&#x9009;&#x62E9;&#x5668;&#x9009;&#x62E9;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x8282;&#x70B9;&#xFF0C;&#x8FD4;&#x56DE;&#x5339;&#x914D;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;</td>
</tr>
<tr>
<td>selectAllComponents</td>
<td>String <code>selector</code></td>
<td>&#x4F7F;&#x7528;&#x9009;&#x62E9;&#x5668;&#x9009;&#x62E9;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x8282;&#x70B9;&#xFF0C;&#x8FD4;&#x56DE;&#x5339;&#x914D;&#x5230;&#x7684;&#x5168;&#x90E8;&#x7EC4;&#x4EF6;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x7EC4;&#x6210;&#x7684;&#x6570;&#x7EC4;</td>
</tr>
<tr>
<td>getRelationNodes</td>
<td>String <code>relationKey</code></td>
<td>&#x83B7;&#x53D6;&#x6240;&#x6709;&#x8FD9;&#x4E2A;&#x5173;&#x7CFB;&#x5BF9;&#x5E94;&#x7684;&#x6240;&#x6709;&#x5173;&#x8054;&#x8282;&#x70B9;&#xFF0C;&#x53C2;&#x89C1; <a href="relations.html">&#x7EC4;&#x4EF6;&#x95F4;&#x5173;&#x7CFB;</a></td>
</tr>
</tbody>
</table>
<p><strong>&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF1A;</strong></p>
<pre><code class="lang-js">Component({

  behaviors: [],

  properties: {
    myProperty: { <span class="hljs-comment">// &#x5C5E;&#x6027;&#x540D;</span>
      type: <span class="hljs-built_in">String</span>, <span class="hljs-comment">// &#x7C7B;&#x578B;&#xFF08;&#x5FC5;&#x586B;&#xFF09;&#xFF0C;&#x76EE;&#x524D;&#x63A5;&#x53D7;&#x7684;&#x7C7B;&#x578B;&#x5305;&#x62EC;&#xFF1A;String, Number, Boolean, Object, Array, null&#xFF08;&#x8868;&#x793A;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#xFF09;</span>
      value: <span class="hljs-string">&apos;&apos;</span>, <span class="hljs-comment">// &#x5C5E;&#x6027;&#x521D;&#x59CB;&#x503C;&#xFF08;&#x53EF;&#x9009;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x6307;&#x5B9A;&#x5219;&#x4F1A;&#x6839;&#x636E;&#x7C7B;&#x578B;&#x9009;&#x62E9;&#x4E00;&#x4E2A;</span>
      observer: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newVal, oldVal</span>)</span>{} <span class="hljs-comment">// &#x5C5E;&#x6027;&#x88AB;&#x6539;&#x53D8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#xFF08;&#x53EF;&#x9009;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x5728;methods&#x6BB5;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x5B57;&#x7B26;&#x4E32;, &#x5982;&#xFF1A;&apos;_propertyChange&apos;</span>
    },
    myProperty2: <span class="hljs-built_in">String</span> <span class="hljs-comment">// &#x7B80;&#x5316;&#x7684;&#x5B9A;&#x4E49;&#x65B9;&#x5F0F;</span>
  },
  data: {}, <span class="hljs-comment">// &#x79C1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x6A21;&#x7248;&#x6E32;&#x67D3;</span>

  <span class="hljs-comment">// &#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x51FD;&#x6570;&#xFF0C;&#x6216;&#x4E00;&#x4E2A;&#x5728;methods&#x6BB5;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;&#x540D;</span>
  attached: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},
  moved: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},
  detached: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},

  methods: {
    onMyButtonTap: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">this</span>.setData({
        <span class="hljs-comment">// &#x66F4;&#x65B0;&#x5C5E;&#x6027;&#x548C;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x4E0E;&#x66F4;&#x65B0;&#x9875;&#x9762;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;</span>
      })
    },
    _myPrivateMethod: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-comment">// &#x5185;&#x90E8;&#x65B9;&#x6CD5;&#x5EFA;&#x8BAE;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x5F00;&#x5934;</span>
      <span class="hljs-keyword">this</span>.replaceDataOnPath([<span class="hljs-string">&apos;A&apos;</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&apos;B&apos;</span>], <span class="hljs-string">&apos;myPrivateData&apos;</span>) <span class="hljs-comment">// &#x8FD9;&#x91CC;&#x5C06; data.A[0].B &#x8BBE;&#x4E3A; &apos;myPrivateData&apos;</span>
      <span class="hljs-keyword">this</span>.applyDataUpdates()
    },
    _propertyChange: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newVal, oldVal</span>) </span>{

    }
  }

})
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5728; <code>properties</code> &#x5B9A;&#x4E49;&#x6BB5;&#x4E2D;&#xFF0C;&#x5C5E;&#x6027;&#x540D;&#x91C7;&#x7528;&#x9A7C;&#x5CF0;&#x5199;&#x6CD5;&#xFF08;<code>propertyName</code>&#xFF09;&#xFF1B;&#x5728; <code>wxml</code> &#x4E2D;&#xFF0C;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x503C;&#x65F6;&#x5219;&#x5BF9;&#x5E94;&#x4F7F;&#x7528;&#x8FDE;&#x5B57;&#x7B26;&#x5199;&#x6CD5;&#xFF08;<code>component-tag-name property-name=&quot;attr value&quot;</code>&#xFF09;&#xFF0C;&#x5E94;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x7ED1;&#x5B9A;&#x65F6;&#x91C7;&#x7528;&#x9A7C;&#x5CF0;&#x5199;&#x6CD5;&#xFF08;<code>attr=&quot;{{propertyName}}&quot;</code>&#xFF09;&#x3002;</p>
<p><strong>Tips:</strong></p>
<ul>
<li><code>Component</code> &#x6784;&#x9020;&#x5668;&#x6784;&#x9020;&#x7684;&#x7EC4;&#x4EF6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x9875;&#x9762;&#x4F7F;&#x7528;&#x3002;</li>
<li>&#x4F7F;&#x7528; <code>this.data</code> &#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5185;&#x90E8;&#x6570;&#x636E;&#x548C;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x5B83;&#x4EEC;&#xFF0C;&#x5E94;&#x4F7F;&#x7528; <code>setData</code> &#x4FEE;&#x6539;&#x3002;</li>
<li>&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x65E0;&#x6CD5;&#x5728;&#x7EC4;&#x4EF6;&#x65B9;&#x6CD5;&#x4E2D;&#x901A;&#x8FC7; <code>this</code> &#x8BBF;&#x95EE;&#x5230;&#x3002;</li>
<li>&#x5C5E;&#x6027;&#x540D;&#x5E94;&#x907F;&#x514D;&#x4EE5; data &#x5F00;&#x5934;&#xFF0C;&#x5373;&#x4E0D;&#x8981;&#x547D;&#x540D;&#x6210; <code>dataXyz</code> &#x8FD9;&#x6837;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x56E0;&#x4E3A;&#x5728; WXML &#x4E2D;&#xFF0C; <code>data-xyz=&quot;&quot;</code> &#x4F1A;&#x88AB;&#x4F5C;&#x4E3A;&#x8282;&#x70B9; dataset &#x6765;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x3002;</li>
<li>&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x7EC4;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x548C;data&#x5B57;&#x6BB5;&#x76F8;&#x4E92;&#x95F4;&#x90FD;&#x4E0D;&#x80FD;&#x51B2;&#x7A81;&#xFF08;&#x5C3D;&#x7BA1;&#x5B83;&#x4EEC;&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x5B9A;&#x4E49;&#x6BB5;&#x4E2D;&#xFF09;&#x3002;</li>
</ul>

                                
                                </section>
                            
    </div>
    
</div>

                        
</body>
</html>

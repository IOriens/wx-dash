<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <title>&#x753B;&#x5E03;</title>
  <link rel="stylesheet" href="../../style.css">
  <link rel="stylesheet" href="../../website.css">
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
  
                    <div id="book-search-results">
                        <div class="search-noresults">
                            <section class="normal markdown-section">
                              <h4 id="canvas">canvas</h4>
<p>&#x753B;&#x5E03;&#x3002;&#x8BE5;&#x7EC4;&#x4EF6;&#x662F;<a href="native-component.html">&#x539F;&#x751F;&#x7EC4;&#x4EF6;</a>&#xFF0C;&#x4F7F;&#x7528;&#x65F6;&#x8BF7;&#x6CE8;&#x610F;&#x76F8;&#x5173;&#x9650;&#x5236;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;&#x540D;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x9ED8;&#x8BA4;&#x503C;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td id="&#x753B;&#x5E03;-canvas-id">canvas-id</td>
<td>String</td>
<td></td>
<td>canvas &#x7EC4;&#x4EF6;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-disable-scroll">disable-scroll</td>
<td>Boolean</td>
<td>false</td>
<td>&#x5F53;&#x5728; canvas &#x4E2D;&#x79FB;&#x52A8;&#x65F6;&#x4E14;&#x6709;&#x7ED1;&#x5B9A;&#x624B;&#x52BF;&#x4E8B;&#x4EF6;&#x65F6;&#xFF0C;&#x7981;&#x6B62;&#x5C4F;&#x5E55;&#x6EDA;&#x52A8;&#x4EE5;&#x53CA;&#x4E0B;&#x62C9;&#x5237;&#x65B0;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-bindtouchstart">bindtouchstart</td>
<td>EventHandle</td>
<td></td>
<td>&#x624B;&#x6307;&#x89E6;&#x6478;&#x52A8;&#x4F5C;&#x5F00;&#x59CB;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-bindtouchmove">bindtouchmove</td>
<td>EventHandle</td>
<td></td>
<td>&#x624B;&#x6307;&#x89E6;&#x6478;&#x540E;&#x79FB;&#x52A8;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-bindtouchend">bindtouchend</td>
<td>EventHandle</td>
<td></td>
<td>&#x624B;&#x6307;&#x89E6;&#x6478;&#x52A8;&#x4F5C;&#x7ED3;&#x675F;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-bindtouchcancel">bindtouchcancel</td>
<td>EventHandle</td>
<td></td>
<td>&#x624B;&#x6307;&#x89E6;&#x6478;&#x52A8;&#x4F5C;&#x88AB;&#x6253;&#x65AD;&#xFF0C;&#x5982;&#x6765;&#x7535;&#x63D0;&#x9192;&#xFF0C;&#x5F39;&#x7A97;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-bindlongtap">bindlongtap</td>
<td>EventHandle</td>
<td></td>
<td>&#x624B;&#x6307;&#x957F;&#x6309; 500ms &#x4E4B;&#x540E;&#x89E6;&#x53D1;&#xFF0C;&#x89E6;&#x53D1;&#x4E86;&#x957F;&#x6309;&#x4E8B;&#x4EF6;&#x540E;&#x8FDB;&#x884C;&#x79FB;&#x52A8;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5C4F;&#x5E55;&#x7684;&#x6EDA;&#x52A8;</td>
</tr>
<tr>
<td id="&#x753B;&#x5E03;-binderror">binderror</td>
<td>EventHandle</td>
<td></td>
<td>&#x5F53;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#x89E6;&#x53D1; error &#x4E8B;&#x4EF6;&#xFF0C;detail = {errMsg: &apos;something wrong&apos;}</td>
</tr>
</tbody>
</table>
<p><strong>&#x6CE8;&#xFF1A;</strong></p>
<ol>
<li><strong>canvas &#x6807;&#x7B7E;&#x9ED8;&#x8BA4;&#x5BBD;&#x5EA6;300px&#x3001;&#x9AD8;&#x5EA6;225px</strong></li>
<li><strong>&#x540C;&#x4E00;&#x9875;&#x9762;&#x4E2D;&#x7684; canvas-id &#x4E0D;&#x53EF;&#x91CD;&#x590D;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x8FC7;&#x7684; canvas-id&#xFF0C;&#x8BE5; canvas &#x6807;&#x7B7E;&#x5BF9;&#x5E94;&#x7684;&#x753B;&#x5E03;&#x5C06;&#x88AB;&#x9690;&#x85CF;&#x5E76;&#x4E0D;&#x518D;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;</strong></li>
</ol>
<p><strong>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;<a href="../demo/api-canvas.zip">&#x4E0B;&#x8F7D;</a></strong></p>
<p><a href="https://developers.weixin.qq.com/s/oyVplmmG6xYt" title="&#x5728;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#x9884;&#x89C8;&#x6548;&#x679C;" target="_blank">&#x5728;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#x9884;&#x89C8;&#x6548;&#x679C;</a></p>
<pre><code class="language-html"><span class="hljs-comment">&lt;!-- canvas.wxml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 200px;&quot;</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">&quot;firstCanvas&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-comment">&lt;!-- &#x5F53;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x65F6;&#xFF0C;&#x6587;&#x6863;&#x6D41;&#x540E;&#x8FB9;&#x7684; canvas &#x7684;&#x663E;&#x793A;&#x5C42;&#x7EA7;&#x9AD8;&#x4E8E;&#x524D;&#x8FB9;&#x7684; canvas --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 400px; height: 500px;&quot;</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">&quot;secondCanvas&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-comment">&lt;!-- &#x56E0;&#x4E3A; canvas-id &#x4E0E;&#x524D;&#x4E00;&#x4E2A; canvas &#x91CD;&#x590D;&#xFF0C;&#x8BE5; canvas &#x4E0D;&#x4F1A;&#x663E;&#x793A;&#xFF0C;&#x5E76;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x4E8B;&#x4EF6;&#x5230; AppService --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 400px; height: 500px;&quot;</span> <span class="hljs-attr">canvas-id</span>=<span class="hljs-string">&quot;secondCanvas&quot;</span> <span class="hljs-attr">binderror</span>=<span class="hljs-string">&quot;canvasIdErrorCallback&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
</code></pre>
<pre><code class="language-javascript"><span class="hljs-comment">// canvas.js</span>
Page({
  <span class="hljs-attr">canvasIdErrorCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.error(e.detail.errMsg)
  },
  <span class="hljs-attr">onReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// &#x4F7F;&#x7528; wx.createContext &#x83B7;&#x53D6;&#x7ED8;&#x56FE;&#x4E0A;&#x4E0B;&#x6587; context</span>
    <span class="hljs-keyword">var</span> context = wx.createCanvasContext(<span class="hljs-string">&apos;firstCanvas&apos;</span>)
    
    context.setStrokeStyle(<span class="hljs-string">&quot;#00ff00&quot;</span>)
    context.setLineWidth(<span class="hljs-number">5</span>)
    context.rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)
    context.stroke()
    context.setStrokeStyle(<span class="hljs-string">&quot;#ff0000&quot;</span>)
    context.setLineWidth(<span class="hljs-number">2</span>)
    context.moveTo(<span class="hljs-number">160</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">140</span>, <span class="hljs-number">100</span>)
    context.arc(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">false</span>)
    context.moveTo(<span class="hljs-number">85</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.moveTo(<span class="hljs-number">125</span>, <span class="hljs-number">80</span>)
    context.arc(<span class="hljs-number">120</span>, <span class="hljs-number">80</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI, <span class="hljs-literal">true</span>)
    context.stroke()
    context.draw()
  }
})
</code></pre>
<p>&#x76F8;&#x5173;api&#xFF1A;<a href="../api/wx.createCanvasContext.html">wx.createCanvasContext</a></p>
<h5 id="bug--tip">Bug &amp; Tip</h5>
<ol>
<li>&#x8BF7;&#x6CE8;&#x610F;<a href="native-component.html#&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x7684;&#x4F7F;&#x7528;&#x9650;&#x5236;">&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x4F7F;&#x7528;&#x9650;&#x5236;</a>&#x3002;</li>
<li><code>bug</code>: &#x907F;&#x514D;&#x8BBE;&#x7F6E;&#x8FC7;&#x5927;&#x7684;&#x5BBD;&#x9AD8;&#xFF0C;&#x5728;&#x5B89;&#x5353;&#x4E0B;&#x4F1A;&#x6709;crash&#x7684;&#x95EE;&#x9898;</li>
</ol>

                            </section>
                        </div>
                        
                    </div>
                


</body></html>
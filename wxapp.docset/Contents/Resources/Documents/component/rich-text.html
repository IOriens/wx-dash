<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <title>rich-text</title>
  <link rel="stylesheet" href="../../../../../style.css">
  <link rel="stylesheet" href="../../../../../website.css">
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="rich-text"><a href="#rich-text" aria-hidden="true" class="header-anchor">#</a> rich-text</h1> <blockquote><p>基础库 1.4.0 开始支持，低版本需做<a href="../framework/compatibility.html">兼容处理</a>。</p></blockquote> <p>富文本。</p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>nodes</td> <td>array/string</td> <td>[]</td> <td>否</td> <td>节点列表/HTML String</td> <td><a href="../framework/compatibility.html">1.4.0</a></td></tr> <tr><td>space</td> <td>string</td> <td></td> <td>否</td> <td>显示连续空格</td> <td><a href="../framework/compatibility.html">2.4.1</a></td></tr></tbody></table></div><p><strong>space 的合法值</strong></p> <div class="table-wrp"><table><thead><tr><th>值</th> <th>说明</th> <th>最低版本</th></tr></thead> <tbody><tr><td>ensp</td> <td>中文字符空格一半大小</td> <td></td></tr> <tr><td>emsp</td> <td>中文字符空格大小</td> <td></td></tr> <tr><td>nbsp</td> <td>根据字体设置的空格大小</td> <td></td></tr></tbody></table></div><h2 id="nodes"><a href="#nodes" aria-hidden="true" class="header-anchor">#</a> nodes</h2> <p>现支持两种节点，通过type来区分，分别是元素节点和文本节点，默认是元素节点，在富文本区域里显示的HTML节点
<em>元素节点：type = node</em>*</p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>说明</th> <th>类型</th> <th>必填</th> <th>备注</th></tr></thead> <tbody><tr><td>name</td> <td>标签名</td> <td>string</td> <td>是</td> <td>支持部分受信任的 HTML 节点</td></tr> <tr><td>attrs</td> <td>属性</td> <td>object</td> <td>否</td> <td>支持部分受信任的属性，遵循 Pascal 命名法</td></tr> <tr><td>children</td> <td>子节点列表</td> <td>array</td> <td>否</td> <td>结构和 nodes 一致</td></tr></tbody></table></div><p><em>文本节点：type = text</em>*</p> <div class="table-wrp"><table><thead><tr><th>属性</th> <th>说明</th> <th>类型</th> <th>必填</th> <th>备注</th></tr></thead> <tbody><tr><td>text</td> <td>文本</td> <td>string</td> <td>是</td> <td>支持entities</td></tr></tbody></table></div><h2 id="受信任的HTML节点及属性"><a href="#受信任的HTML节点及属性" aria-hidden="true" class="header-anchor">#</a> 受信任的HTML节点及属性</h2> <p>全局支持class和style属性，<strong>不支持id属性</strong>。</p> <div class="table-wrp"><table><thead><tr><th>节点</th> <th>属性</th></tr></thead> <tbody><tr><td>a</td> <td></td></tr> <tr><td>abbr</td> <td></td></tr> <tr><td>address</td> <td></td></tr> <tr><td>article</td> <td></td></tr> <tr><td>aside</td> <td></td></tr> <tr><td>b</td> <td></td></tr> <tr><td>bdi</td> <td></td></tr> <tr><td>bdo</td> <td>dir</td></tr> <tr><td>big</td> <td></td></tr> <tr><td>blockquote</td> <td></td></tr> <tr><td>br</td> <td></td></tr> <tr><td>caption</td> <td></td></tr> <tr><td>center</td> <td></td></tr> <tr><td>cite</td> <td></td></tr> <tr><td>code</td> <td></td></tr> <tr><td>col</td> <td>span，width</td></tr> <tr><td>colgroup</td> <td>span，width</td></tr> <tr><td>dd</td> <td></td></tr> <tr><td>del</td> <td></td></tr> <tr><td>div</td> <td></td></tr> <tr><td>dl</td> <td></td></tr> <tr><td>dt</td> <td></td></tr> <tr><td>em</td> <td></td></tr> <tr><td>fieldset</td> <td></td></tr> <tr><td>font</td> <td></td></tr> <tr><td>footer</td> <td></td></tr> <tr><td>h1</td> <td></td></tr> <tr><td>h2</td> <td></td></tr> <tr><td>h3</td> <td></td></tr> <tr><td>h4</td> <td></td></tr> <tr><td>h5</td> <td></td></tr> <tr><td>h6</td> <td></td></tr> <tr><td>header</td> <td></td></tr> <tr><td>hr</td> <td></td></tr> <tr><td>i</td> <td></td></tr> <tr><td>img</td> <td>alt，src，height，width</td></tr> <tr><td>ins</td> <td></td></tr> <tr><td>label</td> <td></td></tr> <tr><td>legend</td> <td></td></tr> <tr><td>li</td> <td></td></tr> <tr><td>mark</td> <td></td></tr> <tr><td>nav</td> <td></td></tr> <tr><td>ol</td> <td>start，type</td></tr> <tr><td>p</td> <td></td></tr> <tr><td>pre</td> <td></td></tr> <tr><td>q</td> <td></td></tr> <tr><td>rt</td> <td></td></tr> <tr><td>ruby</td> <td></td></tr> <tr><td>s</td> <td></td></tr> <tr><td>section</td> <td></td></tr> <tr><td>small</td> <td></td></tr> <tr><td>span</td> <td></td></tr> <tr><td>strong</td> <td></td></tr> <tr><td>sub</td> <td></td></tr> <tr><td>sup</td> <td></td></tr> <tr><td>table</td> <td>width</td></tr> <tr><td>tbody</td> <td></td></tr> <tr><td>td</td> <td>colspan，height，rowspan，width</td></tr> <tr><td>tfoot</td> <td></td></tr> <tr><td>th</td> <td>colspan，height，rowspan，width</td></tr> <tr><td>thead</td> <td></td></tr> <tr><td>tr</td> <td>colspan，height，rowspan，width</td></tr> <tr><td>tt</td> <td></td></tr> <tr><td>u</td> <td></td></tr> <tr><td>ul</td> <td></td></tr></tbody></table></div><h2 id="Bug-Tip"><a href="#Bug-Tip" aria-hidden="true" class="header-anchor">#</a> Bug &amp; Tip</h2> <ol><li><code>tip</code>: nodes 不推荐使用 String 类型，性能会有所下降。</li> <li><code>tip</code>: <code>rich-text</code> 组件内屏蔽所有节点的事件。</li> <li><code>tip</code>: attrs 属性不支持 id ，支持 class 。</li> <li><code>tip</code>: name 属性大小写不敏感。</li> <li><code>tip</code>: 如果使用了不受信任的HTML节点，该节点及其所有子节点将会被移除。</li> <li><code>tip</code>: img 标签仅支持网络图片。</li> <li><code>tip</code>: 如果在自定义组件中使用 <code>rich-text</code> 组件，那么仅自定义组件的 wxss 样式对 <code>rich-text</code> 中的 class 生效。</li></ol> <h2 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h2> <p><a href="https://developers.weixin.qq.com/s/zPVmpim46wYQ" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p> <div class="wrap-mp-code"><iframe src="https://developers.weixin.qq.com/xcode/source/mp_rich_text?tabs=index/index.js,index/index.wxml" type="text/html" height="669" width="100%" frameborder="0" class="wrap-mp-code-iframe"></iframe></div></div></div> <!---->    


</body></html>
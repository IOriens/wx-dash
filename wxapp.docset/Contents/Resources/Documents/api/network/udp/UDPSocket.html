<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>UDPSocket</title>
  <link rel="stylesheet" href="../../../../../../../style.css" />
  <link rel="stylesheet" href="../../../../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="UDPSocket"><a href="#UDPSocket" aria-hidden="true" class="header-anchor">#</a> UDPSocket</h1> <blockquote><p>基础库 2.7.0 开始支持，低版本需做<a href="../../../framework/compatibility.html">兼容处理</a>。</p></blockquote> <p>一个 UDP Socket 实例，默认使用 IPv4 协议。</p> <h2 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h2> <h3 id="number-UDPSocket-bind-number-port"><a href="#number-UDPSocket-bind-number-port" aria-hidden="true" class="header-anchor">#</a> <a href="UDPSocket.bind.html">number UDPSocket.bind(number port)</a></h3> <p>绑定一个系统随机分配的可用端口，或绑定一个指定的端口号</p> <h3 id="UDPSocket-send-Object-object"><a href="#UDPSocket-send-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="UDPSocket.send.html">UDPSocket.send(Object object)</a></h3> <p>向指定的 IP 和 port 发送消息</p> <h3 id="UDPSocket-close"><a href="#UDPSocket-close" aria-hidden="true" class="header-anchor">#</a> <a href="UDPSocket.close.html">UDPSocket.close()</a></h3> <p>关闭 UDP Socket 实例，相当于销毁。 在关闭之后，UDP Socket 实例不能再发送消息，每次调用 <code>UDPSocket.send</code> 将会触发错误事件，并且 message 事件回调函数也不会再也执行。在 <code>UDPSocket</code> 实例被创建后将被 Native 强引用，保证其不被 GC。在 <code>UDPSocket.close</code> 后将解除对其的强引用，让 UDPSocket 实例遵从 GC。</p> <h3 id="UDPSocket-onClose-function-callback"><a href="#UDPSocket-onClose-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.onClose.html">UDPSocket.onClose(function callback)</a></h3> <p>监听关闭事件</p> <h3 id="UDPSocket-offClose-function-callback"><a href="#UDPSocket-offClose-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.offClose.html">UDPSocket.offClose(function callback)</a></h3> <p>取消监听关闭事件</p> <h3 id="UDPSocket-onError-function-callback"><a href="#UDPSocket-onError-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.onError.html">UDPSocket.onError(function callback)</a></h3> <p>监听错误事件</p> <h3 id="UDPSocket-offError-function-callback"><a href="#UDPSocket-offError-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.offError.html">UDPSocket.offError(function callback)</a></h3> <p>取消监听错误事件</p> <h3 id="UDPSocket-onListening-function-callback"><a href="#UDPSocket-onListening-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.onListening.html">UDPSocket.onListening(function callback)</a></h3> <p>监听开始监听数据包消息的事件</p> <h3 id="UDPSocket-offListening-function-callback"><a href="#UDPSocket-offListening-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.offListening.html">UDPSocket.offListening(function callback)</a></h3> <p>取消监听开始监听数据包消息的事件</p> <h3 id="UDPSocket-onMessage-function-callback"><a href="#UDPSocket-onMessage-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.onMessage.html">UDPSocket.onMessage(function callback)</a></h3> <p>监听收到消息的事件</p> <h3 id="UDPSocket-offMessage-function-callback"><a href="#UDPSocket-offMessage-function-callback" aria-hidden="true" class="header-anchor">#</a> <a href="./UDPSocket.offMessage.html">UDPSocket.offMessage(function callback)</a></h3> <p>取消监听收到消息的事件</p> <h2 id="错误"><a href="#错误" aria-hidden="true" class="header-anchor">#</a> 错误</h2> <div class="table-wrp"><table><thead><tr><th>错误码</th> <th>错误信息</th> <th>说明</th></tr></thead> <tbody><tr><td>-1</td> <td></td> <td>系统错误</td></tr> <tr><td>-2</td> <td></td> <td>socket接口错误</td></tr> <tr><td>-3</td> <td></td> <td>发送失败，无接口权限</td></tr> <tr><td>1</td> <td></td> <td>发送失败，参数错误，address不合法</td></tr> <tr><td>2</td> <td></td> <td>发送失败，参数错误，port不合法</td></tr></tbody></table></div></div></div> <!---->    
</body>
</html>

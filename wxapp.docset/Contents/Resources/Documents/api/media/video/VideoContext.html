<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>VideoContext</title>
  <link rel="stylesheet" href="../../../../../../../style.css" />
  <link rel="stylesheet" href="../../../../../../../website.css" />
  <style type="text/css">
    body {
      padding: 1em;
    }
  </style>
</head>
<body>
   <div id="docContent"><div class="content custom"><h1 id="VideoContext"><a href="#VideoContext" aria-hidden="true" class="header-anchor">#</a> VideoContext</h1> <p>VideoContext 实例，可通过 <a href="wx.createVideoContext.html">wx.createVideoContext</a> 获取。</p> <p><a href="VideoContext.html">VideoContext</a> 通过 <code>id</code> 跟一个 <a href="../../../component/video.html">video</a> 组件绑定，操作对应的 <a href="../../../component/video.html">video</a> 组件。</p> <h2 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h2> <h3 id="VideoContext-play"><a href="#VideoContext-play" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.play.html">VideoContext.play()</a></h3> <p>播放视频</p> <h3 id="VideoContext-pause"><a href="#VideoContext-pause" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.pause.html">VideoContext.pause()</a></h3> <p>暂停视频</p> <h3 id="VideoContext-stop"><a href="#VideoContext-stop" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.stop.html">VideoContext.stop()</a></h3> <p>停止视频</p> <h3 id="VideoContext-seek-number-position"><a href="#VideoContext-seek-number-position" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.seek.html">VideoContext.seek(number position)</a></h3> <p>跳转到指定位置</p> <h3 id="VideoContext-sendDanmu-Object-data"><a href="#VideoContext-sendDanmu-Object-data" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.sendDanmu.html">VideoContext.sendDanmu(Object data)</a></h3> <p>发送弹幕</p> <h3 id="VideoContext-playbackRate-number-rate"><a href="#VideoContext-playbackRate-number-rate" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.playbackRate.html">VideoContext.playbackRate(number rate)</a></h3> <p>设置倍速播放</p> <h3 id="VideoContext-requestFullScreen-Object-object"><a href="#VideoContext-requestFullScreen-Object-object" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.requestFullScreen.html">VideoContext.requestFullScreen(Object object)</a></h3> <p>进入全屏。若有自定义内容需在全屏时展示，需将内容节点放置到 video 节点内。</p> <h3 id="VideoContext-exitFullScreen"><a href="#VideoContext-exitFullScreen" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.exitFullScreen.html">VideoContext.exitFullScreen()</a></h3> <p>退出全屏</p> <h3 id="VideoContext-showStatusBar"><a href="#VideoContext-showStatusBar" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.showStatusBar.html">VideoContext.showStatusBar()</a></h3> <p>显示状态栏，仅在iOS全屏下有效</p> <h3 id="VideoContext-hideStatusBar"><a href="#VideoContext-hideStatusBar" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.hideStatusBar.html">VideoContext.hideStatusBar()</a></h3> <p>隐藏状态栏，仅在iOS全屏下有效</p> <h3 id="VideoContext-exitPictureInPicture"><a href="#VideoContext-exitPictureInPicture" aria-hidden="true" class="header-anchor">#</a> <a href="VideoContext.exitPictureInPicture.html">VideoContext.exitPictureInPicture()</a></h3> <p>退出小窗，该方法可在任意页面调用</p> <h2 id="示例代码"><a href="#示例代码" aria-hidden="true" class="header-anchor">#</a> 示例代码</h2> <p><a href="https://developers.weixin.qq.com/s/X5V6Xmmk6xYB" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>section tc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myVideo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400<span class="token punctuation">"</span></span> <span class="token attr-name">enable-danmu</span> <span class="token attr-name">danmu-btn</span> <span class="token attr-name">controls</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn-area<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">bindblur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bindInputBlur<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bindSendDanmu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>发送弹幕<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getRandomColor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> rgb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> color <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
    color <span class="token operator">=</span> color<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> color <span class="token punctuation">:</span> color
    rgb<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">'#'</span> <span class="token operator">+</span> rgb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">onReady</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>videoContext <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createVideoContext</span><span class="token punctuation">(</span><span class="token string">'myVideo'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  inputValue<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token function">bindInputBlur</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>inputValue <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">bindSendDanmu</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>videoContext<span class="token punctuation">.</span><span class="token function">sendDanmu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      text<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputValue<span class="token punctuation">,</span>
      color<span class="token punctuation">:</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <!---->    
</body>
</html>
